<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDSANABRIACF - Club Deportivo Sanabriacf</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #dc2626; /* Rojo fijo */
            --secondary-color: #3b82f6; /* Azul fijo */
            --text-color: #1f2937;
            --text-light-color: #6b7280;
            --button-color: #dc2626; /* Rojo fijo */
            --button-hover-color: #b91c1c;
            --background-color: #ffffff;
            --card-background-color: #f8fafc;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .team-info {
            background: var(--card-background-color);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            margin-bottom: 40px;
        }

        .team-logo {
            width: 150px;
            height: 150px;
            background: #e5e7eb;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--primary-color);
            border: 4px solid var(--secondary-color);
            overflow: hidden;
        }

        .team-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .logo-message {
            text-align: center;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: var(--card-background-color);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .feature-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .feature-description {
            color: var(--text-light-color);
            line-height: 1.6;
        }

        .cta-section {
            text-align: center;
            background: var(--background-color);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            transition: transform 0.3s ease;
            margin: 10px;
        }

        .cta-button:hover {
            transform: scale(1.05);
        }

        .download-section {
            margin-top: 30px;
        }

        .download-button {
            background: var(--button-color);
            margin: 5px;
        }

        .download-button:hover {
            background: var(--button-hover-color);
        }

        footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            opacity: 0.8;
        }

        .admin-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .admin-button:hover {
            background: #b91c1c;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .coach-access-button {
            background: #059669;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .coach-access-button:hover {
            background: #047857;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        /* Estilos para el carrusel de publicidad */
        .ad-carousel {
            margin: 20px auto;
            max-width: 800px;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        .carousel-slides {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 100%;
        }

        .carousel-slide {
            min-width: 100%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            cursor: pointer;
        }

        .carousel-slide img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .carousel-slide-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 15px;
            text-align: center;
        }

        .carousel-slide-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .carousel-slide-company {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 1.2rem;
            border-radius: 50%;
            transition: background 0.3s ease;
            z-index: 10;
        }

        .carousel-btn:hover {
            background: rgba(0,0,0,0.8);
        }

        .carousel-btn.prev {
            left: 10px;
        }

        .carousel-btn.next {
            right: 10px;
        }

        .carousel-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .carousel-dot.active {
            background: white;
        }

        @media (max-width: 768px) {
            .ad-carousel {
                margin: 15px;
                max-width: none;
            }
            
            .carousel-container {
                height: 200px;
            }
            
            .carousel-slide-title {
                font-size: 1rem;
            }
            
            .carousel-slide-company {
                font-size: 0.8rem;
            }
        }



        .multimedia-section {
            background: var(--card-background-color);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            text-align: center;
        }

        .multimedia-section h2 {
            color: var(--text-color);
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .multimedia-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .gallery-item {
            border: 1px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
            background: white;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
        }

        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .gallery-item video {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .gallery-item-info {
            padding: 15px;
        }

        .gallery-item-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--text-color);
        }

        .gallery-item-type {
            font-size: 14px;
            color: var(--text-light-color);
        }

        .access-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        /* Estilos para los modales de registro */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 2% auto;
            padding: 25px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 15px;
        }

        .close:hover {
            color: #000;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--text-color);
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }

        .form-group input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .form-group input[type="checkbox"] {
            margin-right: 10px;
        }

        .form-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            flex: 1;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
        }

        .btn-secondary {
            background: #6b7280;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            flex: 1;
        }

        .btn-secondary:hover {
            background: #4b5563;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 10px;
            }
        }

        /* Estilos para el modal de login dinámico */
        #loginModal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #loginModal .modal-content {
            background-color: white;
            margin: auto;
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 350px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        #loginModal .btn-primary,
        #loginModal .btn-secondary {
            padding: 6px 12px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>⚽ CDSANABRIACF</h1>
            <p class="subtitle">Club Deportivo Sanabriacf - Pasión por el Fútbol</p>
            
            <!-- Botones de acceso en la parte superior -->
            <div class="access-buttons" style="margin-top: 20px; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
                <button class="access-btn" onclick="showLoginModal(createSocioLoginForm())" style="background: var(--primary-color); color: white; border: none; padding: 12px 24px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    👨‍👩‍👧‍👦 Socios
                </button>
                <button class="access-btn" onclick="showLoginModal(createAmigoLoginForm())" style="background: var(--secondary-color); color: white; border: none; padding: 12px 24px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    🤝 Amigos del Club
                </button>
            </div>
        </header>

        <!-- Carrusel de Publicidad -->
        <div id="adCarousel" class="ad-carousel" style="display: none;">
            <div class="carousel-container">
                <div class="carousel-slides" id="carouselSlides">
                    <!-- Los slides se cargarán dinámicamente -->
                </div>
                <button class="carousel-btn prev" onclick="changeSlide(-1)">❮</button>
                <button class="carousel-btn next" onclick="changeSlide(1)">❯</button>
                <div class="carousel-dots" id="carouselDots">
                    <!-- Los puntos se generarán dinámicamente -->
                </div>
            </div>
        </div>

        <!-- Indicador del día actual -->
        <div class="current-day-banner" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 12px; text-align: center; font-size: 0.9rem; border-radius: 10px; margin-bottom: 20px;">
            <span id="currentDayDisplay">📅 Cargando fecha actual...</span>
            <span id="currentTimeDisplay" style="margin-left: 15px; opacity: 0.9;">⏰ Cargando hora...</span>
        </div>

        <div class="team-info">
            <div class="team-logo">
                🏆
            </div>
            <div class="logo-message" id="logoMessage">
                <!-- Mensaje debajo del logo se cargará aquí -->
            </div>
            <h2>Bienvenidos al Club Deportivo Sanabriacf</h2>
            <p>Un equipo con tradición, pasión y compromiso con el fútbol. Formamos parte de la familia TURISTEAM.</p>
        </div>

        <div class="features">
            <div class="feature-card" onclick="openFeature('equipos')" style="cursor: pointer;">
                <div class="feature-icon">⚽</div>
                <h3 class="feature-title">Nuestro Equipo</h3>
                <p class="feature-description">
                    Conoce a nuestros jugadores, entrenadores y personal técnico. 
                    Un equipo unido con un objetivo común: la excelencia deportiva.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Equipos</button>
            </div>

            <div class="feature-card" onclick="openFeature('calendario')" style="cursor: pointer;">
                <div class="feature-icon">📅</div>
                <h3 class="feature-title">Partidos y Calendario</h3>
                <p class="feature-description">
                    Consulta nuestro calendario de partidos y entrenamientos. 
                    Mantente al día con todas las actividades del club.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Calendario</button>
            </div>

            <div class="feature-card" onclick="openFeature('eventos')" style="cursor: pointer;">
                <div class="feature-icon">🎉</div>
                <h3 class="feature-title">Eventos del Club</h3>
                <p class="feature-description">
                    Participa en eventos, torneos y actividades especiales. 
                    Mantente informado de todas las actividades del club.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Eventos</button>
            </div>

            <div class="feature-card" onclick="openFeature('competiciones')" style="cursor: pointer;">
                <div class="feature-icon">🏆</div>
                <h3 class="feature-title">Competiciones</h3>
                <p class="feature-description">
                    Participamos en ligas, torneos y competiciones. 
                    Gestión de clasificaciones y resultados del club.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Competiciones</button>
            </div>

            <div class="feature-card" onclick="openFeature('multimedia')" style="cursor: pointer;">
                <div class="feature-icon">📸</div>
                <h3 class="feature-title">Galería Multimedia</h3>
                <p class="feature-description">
                    Fotos, videos y documentos del club. 
                    Revive los mejores momentos del equipo.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Galería</button>
            </div>

            <div class="feature-card" onclick="openFeature('contacto')" style="cursor: pointer;">
                <div class="feature-icon">📞</div>
                <h3 class="feature-title">Contacto</h3>
                <p class="feature-description">
                    Información de contacto y horarios del club. 
                    Ponte en contacto con nosotros.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Contacto</button>
            </div>
        </div>

        <div class="cta-section">
            <h2>¡Únete a CDSANABRIACF!</h2>
            <p>Accede a todas las funcionalidades de gestión futbolística</p>
            
            <div class="download-section">
                <button class="cta-button" onclick="document.getElementById('sociosModal').style.display = 'block'">
                    👨‍👩‍👧‍👦 Hacerse Socio
                </button>
                <button class="cta-button" onclick="document.getElementById('amigosModal').style.display = 'block'">
                    🤝 Ser Amigo del Club
                </button>
                <button class="cta-button" onclick="openFeature('contacto')">
                    📧 Contactar
                </button>
            </div>
            
            <!-- Botón de Tienda -->
            <div style="text-align: center; margin: 30px 0;">
                <a href="tienda-completa.html" style="
                    display: inline-block;
                    background: linear-gradient(135deg, #dc2626, #3b82f6);
                    color: white;
                    padding: 15px 30px;
                    border-radius: 25px;
                    text-decoration: none;
                    font-weight: 600;
                    font-size: 1.1rem;
                    transition: transform 0.3s, box-shadow 0.3s;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 15px rgba(220, 38, 38, 0.3)'" 
                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.1)'">
                    🏪 Visitar Tienda CDSANABRIACF
                </a>
            </div>
        </div>

        <!-- Sección Multimedia -->
        <div class="multimedia-section">
            <h2>📸 Galería Multimedia</h2>
            <div id="multimediaGallery" class="multimedia-gallery">
                <p>Cargando galería multimedia...</p>
            </div>
        </div>

        <!-- Modal de Registro de Socios -->
        <div id="sociosModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" onclick="closeSociosModal()">&times;</span>
                <h2>👨‍👩‍👧‍👦 Registro de Socio</h2>
                <p style="color: #dc2626; font-weight: bold; margin-bottom: 20px;">⚠️ IMPORTANTE: Los socios deben pagar una cuota. Si no se valida el pago en 7 días, serás excluido hasta el pago.</p>
                
                <form id="sociosForm" onsubmit="registerSocio(event)">
                    <div class="form-group">
                        <label for="socioNombre">Nombre *</label>
                        <input type="text" id="socioNombre" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="socioApellidos">Apellidos *</label>
                        <input type="text" id="socioApellidos" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="socioDNI">DNI</label>
                        <input type="text" id="socioDNI">
                    </div>
                    
                    <div class="form-group">
                        <label for="socioDireccion">Dirección</label>
                        <input type="text" id="socioDireccion">
                    </div>
                    
                    <div class="form-group">
                        <label for="socioTelefono">Teléfono *</label>
                        <input type="tel" id="socioTelefono" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="socioEmail">Correo Electrónico</label>
                        <input type="email" id="socioEmail">
                    </div>
                    
                    <div class="form-group">
                        <label for="socioCuota">Cuota de Socio (€)</label>
                        <input type="number" id="socioCuota" value="25" min="0" step="0.01">
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="socioConsentimiento" required>
                            Acepto las condiciones y el pago de la cuota *
                        </label>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn-primary">Registrarse como Socio</button>
                        <button type="button" class="btn-secondary" onclick="closeSociosModal()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal de Registro de Amigos -->
        <div id="amigosModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" onclick="closeAmigosModal()">&times;</span>
                <h2>🤝 Registro de Amigo del Club</h2>
                <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">✅ GRATUITO: El registro como amigo del club es completamente gratuito.</p>
                
                <form id="amigosForm" onsubmit="registerAmigo(event)">
                    <div class="form-group">
                        <label for="amigoNombre">Nombre *</label>
                        <input type="text" id="amigoNombre" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="amigoApellidos">Apellidos *</label>
                        <input type="text" id="amigoApellidos" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="amigoDNI">DNI</label>
                        <input type="text" id="amigoDNI">
                    </div>
                    
                    <div class="form-group">
                        <label for="amigoTelefono">Teléfono *</label>
                        <input type="tel" id="amigoTelefono" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="amigoEmail">Correo Electrónico *</label>
                        <input type="email" id="amigoEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="amigoConsentimiento" required>
                            Acepto las condiciones del club *
                        </label>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn-primary">Registrarse como Amigo</button>
                        <button type="button" class="btn-secondary" onclick="closeAmigosModal()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Datos de Contacto -->
        <div class="contact-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-top: 40px;">
            <h2 style="color: var(--text-color); margin-bottom: 20px; text-align: center;">📞 Datos de Contacto</h2>
            <div id="contactInfo" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; text-align: center;">
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">📧 Email</h4>
                    <p id="contactEmail" style="color: var(--text-light-color);">club@cdsanabriacf.com</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">📱 Teléfono</h4>
                    <p id="contactPhone" style="color: var(--text-light-color);">+34 600 000 000</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">📍 Dirección</h4>
                    <p id="contactAddress" style="color: var(--text-light-color);">Calle del Club, 123, Ciudad</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">🌐 Sitio Web</h4>
                    <p id="contactWebsite" style="color: var(--text-light-color);">www.cdsanabriacf.com</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">📱 WhatsApp</h4>
                    <p id="contactWhatsApp" style="color: var(--text-light-color);">+34 600 000 000</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">⏰ Horarios</h4>
                    <p id="contactHours" style="color: var(--text-light-color);">Lunes a Viernes: 9:00 - 18:00</p>
                </div>
            </div>
        </div>

        <!-- Política de Protección de Datos -->
        <div class="privacy-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-top: 20px;">
            <h2 style="color: var(--text-color); margin-bottom: 20px; text-align: center; cursor: pointer;" onclick="togglePrivacyPolicy()">
                🔒 Política de Protección de Datos <span id="privacyToggle" style="font-size: 1.2rem;">▼</span>
            </h2>
            <div id="privacyContent" style="display: none; color: var(--text-light-color); line-height: 1.6;">
                <h3 style="color: var(--text-color); margin-bottom: 15px;">Información sobre Protección de Datos</h3>
                
                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Responsable del Tratamiento</h4>
                <p>Club Deportivo Sanabriacf (CDSANABRIACF)<br>
                Dirección: [Dirección del club]<br>
                Email: club@cdsanabriacf.com<br>
                Teléfono: +34 600 000 000</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Finalidad del Tratamiento</h4>
                <p>Sus datos personales serán tratados para las siguientes finalidades:</p>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li>Gestión de la relación con socios, jugadores y amigos del club</li>
                    <li>Organización de eventos y actividades deportivas</li>
                    <li>Comunicaciones relacionadas con el club</li>
                    <li>Gestión administrativa y contable</li>
                </ul>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Legitimación</h4>
                <p>El tratamiento de sus datos se basa en:</p>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li>Consentimiento del interesado</li>
                    <li>Ejecución de un contrato</li>
                    <li>Interés legítimo del responsable</li>
                </ul>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Conservación de Datos</h4>
                <p>Los datos se conservarán mientras se mantenga la relación con el club y no se solicite su supresión, y en su caso, durante los años necesarios para cumplir con las obligaciones legales.</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Destinatarios</h4>
                <p>Sus datos no serán cedidos a terceros salvo obligación legal o cuando sea necesario para la prestación de los servicios solicitados.</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Derechos</h4>
                <p>Puede ejercer sus derechos de acceso, rectificación, supresión, limitación, portabilidad y oposición contactando con nosotros en club@cdsanabriacf.com</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Autoridad de Control</h4>
                <p>Puede presentar una reclamación ante la Agencia Española de Protección de Datos (AEPD) si considera que el tratamiento no se ajusta a la normativa vigente.</p>

                <p style="margin-top: 20px; font-style: italic; color: var(--text-color);">
                    Última actualización: Diciembre 2024
                </p>
            </div>
        </div>

        <footer>
            <p>&copy; 2024 CDSANABRIACF. Todos los derechos reservados.</p>
            <p>Club Deportivo Sanabriacf - Miembro de TURISTEAM</p>
        </footer>
    </div>

    <div style="position: fixed; bottom: 20px; right: 20px; display: flex; gap: 10px; z-index: 1000;">
        <button class="admin-button" onclick="openAdminPanel()">🔧 Admin</button>
        <button class="coach-access-button" onclick="openCoachesAccess()" style="background: #059669; color: white; border: none; padding: 10px 15px; border-radius: 25px; cursor: pointer; font-size: 0.9rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease;">👨‍🏫 Entrenadores</button>
    </div>

    <script>
        // Configuración específica para CDSANABRIACF
        let teamSettings = {
            teamName: 'CDSANABRIACF',
            teamSubtitle: 'Club Deportivo Sanabriacf - Pasión por el Fútbol',
            contactEmail: 'info@cdsanabriacf.com',
            phoneNumber: '+34 123 456 789',
            address: 'Calle del Deporte 123, San Abriacf, España',
            primaryColor: '#dc2626', // Rojo por defecto
            secondaryColor: '#3b82f6', // Azul por defecto
            textColor: '#1f2937',
            textLightColor: '#6b7280',
            buttonColor: '#dc2626',
            buttonHoverColor: '#b91c1c',
            backgroundColor: '#ffffff',
            cardBackgroundColor: '#f8fafc',
            teamLogo: null,
            teamShield: null,
            favicon: null,
            logoWidth: '150',
            logoHeight: '150',
            logoMessage: '¡Bienvenidos al Club Deportivo Sanabriacf! ⚽',
            adHeader: '',
            adSidebar: '',
            adFooter: '',
            adPopup: '',
            adFrequency: 'always'
        };

        // Cargar configuración del equipo
        function loadSettings() {
            const savedSettings = localStorage.getItem('cdsanabriacfSettings');
            if (savedSettings) {
                teamSettings = JSON.parse(savedSettings);
                            // Forzar colores fijos siempre
            teamSettings.primaryColor = '#dc2626'; // Rojo fijo
            teamSettings.secondaryColor = '#3b82f6'; // Azul fijo
            } else {
                // Configuración por defecto para CDSANABRIACF
                teamSettings = {
                    teamName: 'CDSANABRIACF',
                    teamSubtitle: 'Club Deportivo Sanabriacf',
                    primaryColor: '#dc2626', // Rojo fijo por defecto
                    secondaryColor: '#3b82f6', // Azul fijo por defecto
                    textColor: '#1f2937',
                    textLightColor: '#6b7280',
                    buttonColor: '#dc2626',
                    buttonHoverColor: '#b91c1c',
                    backgroundColor: '#ffffff',
                    cardBackgroundColor: '#f8fafc',
                    teamLogo: '',
                    teamShield: '',
                    favicon: '',
                    logoMessage: '¡Bienvenidos al Club Deportivo Sanabriacf! ⚽',
                    adHeader: '',
                    adFooter: '',
                    adPopup: '',
                    adFrequency: 'once'
                };
                localStorage.setItem('cdsanabriacfSettings', JSON.stringify(teamSettings));
            }
            applySettings();
        }

        // Aplicar configuración a la página
        function applySettings() {
            // Aplicar título y subtítulo
            document.title = teamSettings.teamName + ' - Equipo de Fútbol';
            document.querySelector('h1').textContent = '⚽ ' + teamSettings.teamName;
            document.querySelector('.subtitle').textContent = teamSettings.teamSubtitle;

            // Forzar colores fijos
            const primaryColor = '#dc2626'; // Rojo fijo
            const secondaryColor = '#3b82f6'; // Azul fijo
            
            document.documentElement.style.setProperty('--primary-color', primaryColor);
            document.documentElement.style.setProperty('--secondary-color', secondaryColor);
            document.documentElement.style.setProperty('--text-color', teamSettings.textColor);
            document.documentElement.style.setProperty('--text-light-color', teamSettings.textLightColor);
            document.documentElement.style.setProperty('--button-color', teamSettings.buttonColor);
            document.documentElement.style.setProperty('--button-hover-color', teamSettings.buttonHoverColor);
            document.documentElement.style.setProperty('--background-color', teamSettings.backgroundColor);
            document.documentElement.style.setProperty('--card-background-color', teamSettings.cardBackgroundColor);

            // Aplicar texto CDSANABRIACF en blanco
            applyCDSANABRIACFWhiteColor();

            // Aplicar logo del club
            loadClubLogo();

            // Aplicar mensaje debajo del logo
            loadLogoMessage();

            // Aplicar favicon
            if (teamSettings.favicon) {
                const favicon = document.querySelector('link[rel="icon"]') || document.createElement('link');
                favicon.rel = 'icon';
                favicon.href = teamSettings.favicon;
                document.head.appendChild(favicon);
            }

            // Aplicar publicidad
            applyAdvertisements();
        }

        // Función para aplicar color blanco al texto CDSANABRIACF
        function applyCDSANABRIACFWhiteColor() {
            // Buscar todos los elementos que contengan "CDSANABRIACF"
            const elements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, div, strong, b');
            elements.forEach(element => {
                if (element.textContent.includes('CDSANABRIACF')) {
                    element.style.color = '#ffffff';
                }
            });
            
            // Buscar específicamente el título principal
            const mainTitle = document.querySelector('h1');
            if (mainTitle && mainTitle.textContent.includes('CDSANABRIACF')) {
                mainTitle.style.color = '#ffffff';
            }
            
            console.log('✅ Texto CDSANABRIACF aplicado en color blanco');
        }

        // Función para cargar el logo del club
        function loadClubLogo() {
            try {
                const clubLogoData = localStorage.getItem('clubLogo');
                const logoElement = document.querySelector('.team-logo');
                
                if (!logoElement) {
                    console.error('❌ No se encontró el elemento .team-logo');
                    return;
                }
                
                if (clubLogoData && clubLogoData !== 'null' && clubLogoData !== '' && clubLogoData !== 'undefined') {
                    // Intentar parsear como JSON (formato del panel de admin)
                    let logoUrl = null;
                    try {
                        const logoObj = JSON.parse(clubLogoData);
                        if (logoObj && logoObj.dataUrl) {
                            logoUrl = logoObj.dataUrl;
                        }
                    } catch (e) {
                        // Si no es JSON, usar como string directo (formato antiguo)
                        logoUrl = clubLogoData;
                    }
                    
                    if (logoUrl) {
                        // Si hay un logo guardado, mostrarlo
                        logoElement.innerHTML = `<img src="${logoUrl}" alt="Logo del Club CDSANABRIACF" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%; border: 4px solid var(--secondary-color);">`;
                        console.log('✅ Logo del club cargado correctamente');
                        
                        // Verificar que la imagen se cargó correctamente
                        const img = logoElement.querySelector('img');
                        if (img) {
                            img.onload = function() {
                                console.log('✅ Imagen del logo cargada exitosamente');
                            };
                            img.onerror = function() {
                                console.error('❌ Error al cargar la imagen del logo');
                                loadDefaultLogo();
                            };
                        }
                    } else {
                        loadDefaultLogo();
                    }
                } else {
                    loadDefaultLogo();
                }
            } catch (error) {
                console.error('❌ Error cargando logo del club:', error);
                loadDefaultLogo();
            }
        }

        // Función para cargar el logo por defecto
        function loadDefaultLogo() {
            const logoElement = document.querySelector('.team-logo');
            if (logoElement) {
                // Usar la foto como ejemplo pero mantener el sistema anterior
                logoElement.innerHTML = '🛡️';
                logoElement.style.fontSize = '3rem';
                logoElement.style.color = 'var(--primary-color)';
                logoElement.style.border = '4px solid var(--secondary-color)';
                console.log('✅ Logo por defecto cargado (escudo)');
            }
        }

        // Función para cargar el mensaje debajo del logo
        function loadLogoMessage() {
            const messageElement = document.getElementById('logoMessage');
            if (messageElement) {
                // Cargar desde la configuración del equipo
                const teamSettings = JSON.parse(localStorage.getItem('cdsanabriacfSettings') || '{}');
                const messageText = teamSettings.logoMessage || '¡Bienvenidos al Club Deportivo Sanabriacf! ⚽';
                
                messageElement.innerHTML = messageText;
                console.log('✅ Mensaje del logo cargado:', messageText);
            }
        }



        // Aplicar publicidad
        function applyAdvertisements() {
            // Publicidad en header
            if (teamSettings.adHeader) {
                const headerAd = document.createElement('div');
                headerAd.className = 'header-ad';
                headerAd.innerHTML = teamSettings.adHeader;
                headerAd.style.cssText = 'background: #f8f9fa; padding: 10px; text-align: center; border-bottom: 1px solid #ddd;';
                document.body.insertBefore(headerAd, document.body.firstChild);
            }

            // Publicidad en footer
            if (teamSettings.adFooter) {
                const footerAd = document.createElement('div');
                footerAd.className = 'footer-ad';
                footerAd.innerHTML = teamSettings.adFooter;
                footerAd.style.cssText = 'background: #f8f9fa; padding: 10px; text-align: center; border-top: 1px solid #ddd; margin-top: 20px;';
                document.querySelector('footer').appendChild(footerAd);
            }

            // Publicidad popup
            if (teamSettings.adPopup && shouldShowPopup()) {
                setTimeout(() => {
                    showPopupAd();
                }, 2000);
            }
        }

        // Verificar si debe mostrar popup
        function shouldShowPopup() {
            const lastShown = localStorage.getItem('lastPopupAd');
            const now = Date.now();
            
            switch (teamSettings.adFrequency) {
                case 'once':
                    return !lastShown;
                case 'daily':
                    return !lastShown || (now - parseInt(lastShown)) > 24 * 60 * 60 * 1000;
                case 'weekly':
                    return !lastShown || (now - parseInt(lastShown)) > 7 * 24 * 60 * 60 * 1000;
                default:
                    return true;
            }
        }

        // Mostrar publicidad popup
        function showPopupAd() {
            const popup = document.createElement('div');
            popup.className = 'popup-ad';
            popup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                z-index: 1000;
                max-width: 400px;
                width: 90%;
            `;
            
            popup.innerHTML = `
                <div style="text-align: right;">
                    <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; font-size: 20px; cursor: pointer;">×</button>
                </div>
                ${teamSettings.adPopup}
            `;
            
            document.body.appendChild(popup);
            localStorage.setItem('lastPopupAd', Date.now().toString());
        }

        // Escuchar mensajes del panel de administración
        window.addEventListener('message', function(event) {
            if (event.data.type === 'UPDATE_SETTINGS') {
                Object.assign(teamSettings, event.data.settings);
                applySettings();
            }
        });

        // Escuchar cambios en el localStorage para actualizar el logo
        window.addEventListener('storage', function(event) {
            if (event.key === 'clubLogo') {
                loadClubLogo();
            }
            if (event.key === 'cdsanabriacfSettings') {
                loadLogoMessage();
            }
        });

        // Función para acceder al panel de administración
        function openAdminPanel() {
            // Abrir formulario de login para administrador
            const loginForm = `
                <div class="modal-content">
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                    <h2>👑 Acceso de Administrador</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">✅ Introduce tus credenciales de administrador</p>
                    <form id="adminLoginForm" onsubmit="loginAdmin(event)">
                        <div class="form-group">
                            <label for="adminEmail">Correo Electrónico:</label>
                            <input type="email" id="adminEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="adminPassword">Contraseña:</label>
                            <input type="password" id="adminPassword" name="password" required placeholder="••••••••">
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeLoginModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            `;
            showLoginModal(loginForm);
        }

        // Función para login del administrador
        function loginAdmin(event) {
            event.preventDefault();
            
            const email = document.getElementById('adminEmail').value.trim();
            const password = document.getElementById('adminPassword').value.trim();
            
            console.log('🔍 Intentando autenticación de administrador con:', email);
            
            // Verificar si es el administrador principal
            if (email.toLowerCase() === 'amco@gmx.es') {
                if (password === '533712' || password === 'admin123') {
                    console.log('✅ Autenticación exitosa como administrador principal');
                    
                    // Guardar sesión del administrador principal
                    const admin = {
                        id: 'ADMIN_CDSANABRIACF',
                        name: 'Administrador Principal CDSANABRIACF',
                        email: email,
                        teamId: 'CDSANABRIACF',
                        role: 'super_admin',
                        loginTime: new Date().toISOString()
                    };
                    
                    localStorage.setItem('currentAdmin', JSON.stringify(admin));
                    
                    closeLoginModal();
                    alert('✅ Autenticación exitosa.\nRedirigiendo al panel de administración...');
                    
                    // Abrir el panel de administración
                    window.open('admin-panel.html', '_blank');
                    return;
                } else {
                    alert('❌ Verifica tus credenciales.');
                    document.getElementById('adminPassword').value = '';
                    forcePasswordDots();
                    return;
                }
            }

            // Verificar si es un administrador de equipo
            const teamAdmins = JSON.parse(localStorage.getItem('teamAdmins') || '[]');
            const admin = teamAdmins.find(a => a.email === email && a.password === password);

            if (admin) {
                if (admin.status !== 'active') {
                    alert('❌ Tu cuenta está desactivada. Contacta con el administrador principal.');
                    document.getElementById('adminPassword').value = '';
                    forcePasswordDots();
                    return;
                }

                console.log('✅ Autenticación exitosa como administrador de equipo');
                
                // Guardar sesión del administrador de equipo
                const adminSession = {
                    id: admin.id,
                    name: 'Administrador de Equipo',
                    email: admin.email,
                    teamId: admin.team,
                    role: 'team_admin',
                    loginTime: new Date().toISOString()
                };
                
                localStorage.setItem('currentAdmin', JSON.stringify(adminSession));
                
                closeLoginModal();
                alert(`✅ Autenticación exitosa.\nBienvenido, administrador del equipo ${admin.team}.\nRedirigiendo al panel de administración...`);
                
                // Abrir el panel de administración
                window.open('admin-panel.html', '_blank');
                return;
            }

            // Verificar si es el segundo administrador (cdsanabriacf)
            if (email.toLowerCase() === 'cdsanabriacf@gmail.com' && password === 'admin123') {
                console.log('✅ Autenticación exitosa como segundo administrador');
                
                // Guardar sesión del segundo administrador
                const adminSession = {
                    id: 'ADMIN_CDSANABRIACF_2',
                    name: 'Segundo Administrador CDSANABRIACF',
                    email: email,
                    teamId: 'CDSANABRIACF',
                    role: 'super_admin',
                    loginTime: new Date().toISOString()
                };
                
                localStorage.setItem('currentAdmin', JSON.stringify(adminSession));
                
                closeLoginModal();
                alert('✅ Autenticación exitosa.\nRedirigiendo al panel de administración...');
                
                // Abrir el panel de administración
                window.open('admin-panel.html', '_blank');
                return;
            }

            // Si no es ni admin principal ni de equipo
            alert('❌ Verifica tus credenciales.');
            document.getElementById('adminPassword').value = '';
            forcePasswordDots();
        }

        // Función para abrir modal de registro de amigos
        function createAmigoLoginForm() {
            return `
                <div class="modal-content">
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                    <h2>🤝 Acceso de Amigo del Club</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">✅ Introduce tus datos para acceder como amigo</p>
                    <form id="amigosLoginForm" onsubmit="loginAmigo(event)">
                        <div class="form-group">
                            <label for="amigoEmail">Correo Electrónico:</label>
                            <input type="email" id="amigoEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="amigoPhone">Teléfono:</label>
                            <input type="tel" id="amigoPhone" name="phone" required>
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeLoginModal()">Cancelar</button>
                            <button type="button" class="btn-primary" onclick="document.getElementById('amigosModal').style.display = 'block'; closeLoginModal()">Registrarse</button>
                        </div>
                    </form>
                </div>
            `;
        }

        function openCoachesAccess() {
            // Abrir formulario de login para entrenadores
            const loginForm = `
                <div class="modal-content">
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                    <h2>👨‍🏫 Acceso de Entrenador</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">✅ Introduce tu email o teléfono para acceder como entrenador</p>
                    <form id="coachesLoginForm" onsubmit="loginCoach(event)">
                        <div class="form-group">
                            <label for="coachIdentifier">Email o Teléfono:</label>
                            <input type="text" id="coachIdentifier" name="identifier" placeholder="Email o número de teléfono" required>
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeLoginModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            `;
            showLoginModal(loginForm);
        }

        // Función para cerrar modal de amigos
        function closeAmigosModal() {
            document.getElementById('amigosModal').style.display = 'none';
            document.getElementById('amigosForm').reset();
        }

        // Función para abrir modal de registro de socios
        function createSocioLoginForm() {
            return `
                <div class="modal-content">
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                    <h2>👨‍👩‍👧‍👦 Acceso de Socio</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">✅ Introduce tus datos para acceder como socio</p>
                    <form id="sociosLoginForm" onsubmit="loginSocio(event)">
                        <div class="form-group">
                            <label for="socioEmail">Correo Electrónico:</label>
                            <input type="email" id="socioEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="socioPhone">Teléfono:</label>
                            <input type="tel" id="socioPhone" name="phone" required>
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeLoginModal()">Cancelar</button>
                            <button type="button" class="btn-primary" onclick="document.getElementById('sociosModal').style.display = 'block'; closeLoginModal()">Registrarse</button>
                        </div>
                    </form>
                </div>
            `;
        }

        // Función para cerrar modal de socios
        function closeSociosModal() {
            document.getElementById('sociosModal').style.display = 'none';
            document.getElementById('sociosForm').reset();
        }

        // Función para abrir diferentes características
        function openFeature(feature) {
            switch(feature) {
                case 'equipos':
                    showTeamsInfo();
                    break;
                case 'calendario':
                    showCalendarInfo();
                    break;
                case 'eventos':
                    showEventsInfo();
                    break;
                case 'competiciones':
                    showCompetitionsInfo();
                    break;
                case 'multimedia':
                    showMultimediaInfo();
                    break;
                case 'contacto':
                    scrollToContact();
                    break;
                default:
                    alert('Funcionalidad en desarrollo');
            }
        }

        // Mostrar información de equipos
        function showTeamsInfo() {
            const teams = JSON.parse(localStorage.getItem('clubPlayers') || '[]');
            const categories = ['prebenajmin', 'benjamin', 'alevin', 'infantil', 'aficionado'];
            const categoryNames = {
                'prebenajmin': 'Prebenjamín',
                'benjamin': 'Benjamín', 
                'alevin': 'Alevín',
                'infantil': 'Infantil',
                'aficionado': 'Aficionado'
            };

            let html = '<h3>🏆 Equipos del Club CDSANABRIACF</h3>';
            
            categories.forEach(category => {
                const categoryPlayers = teams.filter(p => p.category === category && p.status === 'active');
                html += `
                    <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <h4>${categoryNames[category]} (${categoryPlayers.length} jugadores)</h4>
                        ${categoryPlayers.length > 0 ? 
                            categoryPlayers.map(p => `<p>• ${p.name} ${p.surname} - Dorsal: ${p.number || 'Sin asignar'}</p>`).join('') :
                            '<p>No hay jugadores registrados en esta categoría</p>'
                        }
                    </div>
                `;
            });

            showModal('Equipos del Club', html);
        }

        // Mostrar información del calendario
        function showCalendarInfo() {
            const events = JSON.parse(localStorage.getItem('clubCalendarEvents') || '[]');
            const upcomingEvents = events.filter(e => new Date(e.date) >= new Date()).slice(0, 5);

            let html = '<h3>📅 Próximos Eventos del Club</h3>';
            
            if (upcomingEvents.length > 0) {
                upcomingEvents.forEach(event => {
                    const eventDate = new Date(event.date).toLocaleDateString('es-ES');
                    html += `
                        <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                            <h4>${event.title}</h4>
                            <p><strong>Fecha:</strong> ${eventDate}</p>
                            <p><strong>Hora:</strong> ${event.time}</p>
                            <p><strong>Descripción:</strong> ${event.description}</p>
                        </div>
                    `;
                });
            } else {
                html += '<p>No hay eventos próximos programados</p>';
            }

            showModal('Calendario del Club', html);
        }

        // Mostrar información de eventos
        function showEventsInfo() {
            const events = JSON.parse(localStorage.getItem('clubEvents') || '[]');
            const activeEvents = events.filter(e => e.status === 'active');

            let html = '<h3>🎉 Eventos del Club</h3>';
            
            if (activeEvents.length > 0) {
                activeEvents.forEach(event => {
                    const eventDate = new Date(event.date).toLocaleDateString('es-ES');
                    html += `
                        <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                            <h4>${event.title}</h4>
                            <p><strong>Fecha:</strong> ${eventDate}</p>
                            <p><strong>Precio:</strong> ${event.price === '0' ? 'Gratuito' : `${event.price}€`}</p>
                            <p><strong>Inscritos:</strong> ${event.registeredMembers?.length || 0}/${event.maxParticipants}</p>
                            <p><strong>Descripción:</strong> ${event.description}</p>
                        </div>
                    `;
                });
            } else {
                html += '<p>No hay eventos activos en este momento</p>';
            }

            showModal('Eventos del Club', html);
        }

        // Mostrar información de competiciones
        function showCompetitionsInfo() {
            const competitions = JSON.parse(localStorage.getItem('clubCompetitions') || '[]');
            const activeCompetitions = competitions.filter(c => c.status === 'active');

            let html = '<h3>🏆 Competiciones del Club</h3>';
            
            if (activeCompetitions.length > 0) {
                activeCompetitions.forEach(comp => {
                    const startDate = new Date(comp.startDate).toLocaleDateString('es-ES');
                    const endDate = new Date(comp.endDate).toLocaleDateString('es-ES');
                    html += `
                        <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                            <h4>${comp.name}</h4>
                            <p><strong>Categoría:</strong> ${comp.category}</p>
                            <p><strong>Tipo:</strong> ${comp.type}</p>
                            <p><strong>Fechas:</strong> ${startDate} - ${endDate}</p>
                            <p><strong>Equipos:</strong> ${comp.teams?.length || 0} participantes</p>
                            <p><strong>Descripción:</strong> ${comp.description}</p>
                        </div>
                    `;
                });
            } else {
                html += '<p>No hay competiciones activas en este momento</p>';
            }

            showModal('Competiciones del Club', html);
        }

        // Mostrar información multimedia
        function showMultimediaInfo() {
            const photos = JSON.parse(localStorage.getItem('clubPhotos') || '[]');
            const videos = JSON.parse(localStorage.getItem('clubVideos') || '[]');
            const documents = JSON.parse(localStorage.getItem('clubDocuments') || '[]');

            let html = '<h3>📸 Galería Multimedia del Club</h3>';
            html += `<p><strong>Fotos:</strong> ${photos.length} archivos</p>`;
            html += `<p><strong>Videos:</strong> ${videos.length} archivos</p>`;
            html += `<p><strong>Documentos:</strong> ${documents.length} archivos</p>`;
            html += '<p>Para ver la galería completa, haz clic en "Ver Galería" en la sección multimedia de abajo.</p>';

            showModal('Galería Multimedia', html);
        }

        // Scroll a la sección de contacto
        function scrollToContact() {
            const contactSection = document.querySelector('.contact-section');
            if (contactSection) {
                contactSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Función para mostrar modal
        function showModal(title, content) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                padding: 30px;
                border-radius: 15px;
                max-width: 600px;
                max-height: 80vh;
                overflow-y: auto;
                position: relative;
                width: 90%;
            `;
            
            modalContent.innerHTML = `
                <div style="text-align: right; margin-bottom: 20px;">
                    <button onclick="this.closest('.modal').remove()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #666;">×</button>
                </div>
                <h2 style="color: var(--primary-color); margin-bottom: 20px;">${title}</h2>
                <div style="color: var(--text-color); line-height: 1.6;">
                    ${content}
                </div>
            `;
            
            modal.className = 'modal';
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
            
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
        }

        // Animación simple al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            loadMultimediaGallery();
            loadClubLogo(); // Asegurar que el logo se cargue
            loadCarouselAds(); // Cargar carrusel de publicidad
            
            const cards = document.querySelectorAll('.feature-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.6s ease';
                    
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 100);
            });
        });

        // Cargar galería multimedia
        function loadMultimediaGallery() {
            const gallery = document.getElementById('multimediaGallery');
            const photos = JSON.parse(localStorage.getItem('clubPhotos') || '[]');
            const videos = JSON.parse(localStorage.getItem('clubVideos') || '[]');
            const documents = JSON.parse(localStorage.getItem('clubDocuments') || '[]');
            
            const allFiles = [...photos, ...videos, ...documents].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            if (allFiles.length === 0) {
                gallery.innerHTML = '<p>No hay archivos multimedia disponibles</p>';
                return;
            }

            let html = '';
            allFiles.forEach(file => {
                const isImage = file.type.startsWith('image/');
                const isVideo = file.type.startsWith('video/');
                const isDocument = file.type.includes('pdf') || file.type.includes('document') || file.type.includes('spreadsheet') || file.type.includes('presentation');
                
                let typeText = 'Documento';
                if (isImage) typeText = 'Imagen';
                else if (isVideo) typeText = 'Video';

                html += `
                    <div class="gallery-item" onclick="viewFile('${file.id}', '${isImage ? 'clubPhotos' : isVideo ? 'clubVideos' : 'clubDocuments'}')">
                        ${isImage ? `<img src="${file.data}" alt="${file.name}">` : 
                          isVideo ? `<video src="${file.data}" muted></video>` : 
                          `<div style="width: 100%; height: 200px; display: flex; align-items: center; justify-content: center; background: #f0f0f0; font-size: 4rem;">📄</div>`}
                        <div class="gallery-item-info">
                            <div class="gallery-item-title">${file.name}</div>
                            <div class="gallery-item-type">${typeText} - ${file.size}</div>
                        </div>
                    </div>
                `;
            });
            
            gallery.innerHTML = html;
        }

        // Ver archivo en modal
        function viewFile(fileId, storageKey) {
            const files = JSON.parse(localStorage.getItem(storageKey) || '[]');
            const file = files.find(f => f.id === fileId);
            
            if (!file) return;

            const isImage = file.type.startsWith('image/');
            const isVideo = file.type.startsWith('video/');
            
            if (isImage || isVideo) {
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.8);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                `;
                
                const content = document.createElement('div');
                content.style.cssText = `
                    max-width: 90%;
                    max-height: 90%;
                    position: relative;
                `;
                
                if (isImage) {
                    const img = document.createElement('img');
                    img.src = file.data;
                    img.style.cssText = 'max-width: 100%; max-height: 100%; object-fit: contain;';
                    content.appendChild(img);
                } else if (isVideo) {
                    const video = document.createElement('video');
                    video.src = file.data;
                    video.controls = true;
                    video.style.cssText = 'max-width: 100%; max-height: 100%;';
                    content.appendChild(video);
                }
                
                const closeBtn = document.createElement('button');
                closeBtn.textContent = '×';
                closeBtn.style.cssText = `
                    position: absolute;
                    top: -40px;
                    right: 0;
                    background: none;
                    border: none;
                    color: white;
                    font-size: 30px;
                    cursor: pointer;
                `;
                closeBtn.onclick = () => modal.remove();
                
                content.appendChild(closeBtn);
                modal.appendChild(content);
                document.body.appendChild(modal);
                
                modal.onclick = (e) => {
                    if (e.target === modal) modal.remove();
                };
            } else {
                // Para documentos, abrir en nueva pestaña
                const link = document.createElement('a');
                link.href = file.data;
                link.target = '_blank';
                link.click();
            }
        }
        
        // Funciones para mostrar el día actual
        function updateCurrentDayDisplay() {
            const now = new Date();
            const days = ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'];
            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                           'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            
            const dayName = days[now.getDay()];
            const dayNumber = now.getDate();
            const monthName = months[now.getMonth()];
            const year = now.getFullYear();
            
            const currentDayDisplay = document.getElementById('currentDayDisplay');
            if (currentDayDisplay) {
                currentDayDisplay.textContent = `📅 ${dayName}, ${dayNumber} de ${monthName} de ${year}`;
            }
            
            const currentTimeDisplay = document.getElementById('currentTimeDisplay');
            if (currentTimeDisplay) {
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const seconds = now.getSeconds().toString().padStart(2, '0');
                currentTimeDisplay.textContent = `⏰ ${hours}:${minutes}:${seconds}`;
            }
        }
        
        // Iniciar actualización del día actual
        function startCurrentDayTimer() {
            // Actualizar inmediatamente
            updateCurrentDayDisplay();
            
            // Actualizar cada segundo
            setInterval(updateCurrentDayDisplay, 1000);
        }
        
        // Iniciar cuando se carga la página
        document.addEventListener('DOMContentLoaded', function() {
            startCurrentDayTimer();
            loadMultimediaGallery();
            loadContactInfoFromSettings();
            loadClubLogo(); // Cargar el logo del club
            limpiarSociosExpirados(); // Limpiar socios expirados
        });

        // ===== FUNCIONES PARA POLÍTICA DE PROTECCIÓN DE DATOS =====
        
        function togglePrivacyPolicy() {
            const content = document.getElementById('privacyContent');
            const toggle = document.getElementById('privacyToggle');
            
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
                toggle.textContent = '▲';
            } else {
                content.style.display = 'none';
                toggle.textContent = '▼';
            }
        }

        // ===== FUNCIONES PARA DATOS DE CONTACTO =====
        
        function loadContactInfoFromSettings() {
            try {
                const contactInfo = JSON.parse(localStorage.getItem('clubContactInfo') || 'null');
                if (contactInfo) {
                    // Actualizar datos de contacto en la página principal
                    const emailElement = document.getElementById('contactEmail');
                    const phoneElement = document.getElementById('contactPhone');
                    const addressElement = document.getElementById('contactAddress');
                    const websiteElement = document.getElementById('contactWebsite');
                    const whatsappElement = document.getElementById('contactWhatsApp');
                    const hoursElement = document.getElementById('contactHours');
                    
                    if (emailElement) emailElement.textContent = contactInfo.email || 'club@cdsanabriacf.com';
                    if (phoneElement) phoneElement.textContent = contactInfo.phone || '+34 600 000 000';
                    if (addressElement) addressElement.textContent = contactInfo.address || 'Calle del Club, 123, Ciudad';
                    if (websiteElement) websiteElement.textContent = contactInfo.website || 'www.cdsanabriacf.com';
                    if (whatsappElement) whatsappElement.textContent = contactInfo.whatsapp || '+34 600 000 000';
                    if (hoursElement) hoursElement.textContent = contactInfo.hours || 'Lunes a Viernes: 9:00 - 18:00';
                    
                    console.log('📞 Datos de contacto cargados desde configuración');
                }
            } catch (error) {
                console.error('❌ Error cargando datos de contacto:', error);
            }
        }

        // ===== FUNCIONES PARA REGISTRO DE SOCIOS =====
        
        function registerSocio(event) {
            event.preventDefault();
            
            const nombre = document.getElementById('socioNombre').value.trim();
            const apellidos = document.getElementById('socioApellidos').value.trim();
            const dni = document.getElementById('socioDNI').value.trim();
            const direccion = document.getElementById('socioDireccion').value.trim();
            const telefono = document.getElementById('socioTelefono').value.trim();
            const email = document.getElementById('socioEmail').value.trim();
            const cuota = parseFloat(document.getElementById('socioCuota').value) || 25;
            const consentimiento = document.getElementById('socioConsentimiento').checked;
            
            if (!nombre || !apellidos || !telefono) {
                alert('Por favor, completa los campos obligatorios: Nombre, Apellidos y Teléfono');
                return;
            }
            
            if (!consentimiento) {
                alert('Debes aceptar las condiciones para registrarte como socio');
                return;
            }
            
            // Crear nuevo socio
            const nuevoSocio = {
                id: Date.now().toString(),
                nombre: nombre,
                apellidos: apellidos,
                dni: dni,
                direccion: direccion,
                telefono: telefono,
                email: email,
                cuota: cuota,
                fechaRegistro: new Date().toISOString(),
                fechaVencimiento: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 días
                estado: 'pendiente', // pendiente, confirmado, expirado
                pagado: false,
                numeroSocio: generarNumeroSocio()
            };
            
            // Guardar en localStorage
            const socios = JSON.parse(localStorage.getItem('clubMembers') || '[]');
            socios.push(nuevoSocio);
            localStorage.setItem('clubMembers', JSON.stringify(socios));
            
            // Cerrar modal y mostrar confirmación
            closeSociosModal();
            alert(`✅ Socio registrado exitosamente\n\nNúmero de Socio: ${nuevoSocio.numeroSocio}\nCuota: ${cuota}€\n\n⚠️ IMPORTANTE: Tienes 7 días para completar el pago. Un administrador validará tu registro.`);
            
            console.log('👨‍👩‍👧‍👦 Nuevo socio registrado:', nuevoSocio);
        }
        
        function generarNumeroSocio() {
            const socios = JSON.parse(localStorage.getItem('clubMembers') || '[]');
            const ultimoNumero = socios.length > 0 ? 
                Math.max(...socios.map(s => parseInt(s.numeroSocio.replace('SOC-', '')))) : 0;
            return `SOC-${(ultimoNumero + 1).toString().padStart(4, '0')}`;
        }

        // ===== FUNCIONES PARA REGISTRO DE AMIGOS =====
        
        function registerAmigo(event) {
            event.preventDefault();
            
            const nombre = document.getElementById('amigoNombre').value.trim();
            const apellidos = document.getElementById('amigoApellidos').value.trim();
            const dni = document.getElementById('amigoDNI').value.trim();
            const telefono = document.getElementById('amigoTelefono').value.trim();
            const email = document.getElementById('amigoEmail').value.trim();
            const consentimiento = document.getElementById('amigoConsentimiento').checked;
            
            if (!nombre || !apellidos || !telefono || !email) {
                alert('Por favor, completa todos los campos obligatorios');
                return;
            }
            
            if (!consentimiento) {
                alert('Debes aceptar las condiciones para registrarte como amigo del club');
                return;
            }
            
            // Verificar si ya existe un amigo con ese email o teléfono
            const amigos = JSON.parse(localStorage.getItem('clubFriends') || '[]');
            const existeAmigo = amigos.find(a => 
                a.email === email || a.telefono === telefono
            );
            
            if (existeAmigo) {
                alert('Ya existe un amigo registrado con ese email o teléfono');
                return;
            }
            
            // Crear nuevo amigo
            const nuevoAmigo = {
                id: Date.now().toString(),
                nombre: nombre,
                apellidos: apellidos,
                dni: dni,
                telefono: telefono,
                email: email,
                fechaRegistro: new Date().toISOString(),
                estado: 'activo',
                acceso: {
                    email: email,
                    telefono: telefono
                }
            };
            
            // Guardar en localStorage
            amigos.push(nuevoAmigo);
            localStorage.setItem('clubFriends', JSON.stringify(amigos));
            
            // Cerrar modal y mostrar confirmación
            closeAmigosModal();
            alert(`✅ Amigo del club registrado exitosamente\n\n📧 Email: ${email}\n📱 Teléfono: ${telefono}\n\nPara acceder, usa tu email o teléfono sin contraseña.`);
            
            console.log('🤝 Nuevo amigo registrado:', nuevoAmigo);
        }

        // ===== FUNCIONES PARA LOGIN DINÁMICO =====
        function showLoginModal(content) {
            // Crear modal dinámico para login
            const modal = document.createElement('div');
            modal.id = 'loginModal';
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = content;
            document.body.appendChild(modal);
        }

        function closeLoginModal() {
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.remove();
            }
        }

        // ===== FUNCIONES DE LOGIN PARA SOCIOS =====
        function loginSocio(event) {
            event.preventDefault();
            
            const email = document.getElementById('socioEmail').value.trim();
            const phone = document.getElementById('socioPhone').value.trim();
            
            if (!email || !phone) {
                alert('❌ Por favor, completa todos los campos');
                return;
            }
            
            // Buscar socio en localStorage
            const socios = JSON.parse(localStorage.getItem('clubMembers') || '[]');
            const socio = socios.find(s => 
                (s.email === email && s.telefono === phone) ||
                (s.email === phone && s.telefono === email)
            );
            
            if (!socio) {
                alert('❌ No se encontró ningún socio con esos datos. Verifica tu correo y teléfono.');
                return;

            }
            
            if (socio.estado === 'expirado') {
                alert('❌ Tu cuenta ha expirado. Contacta con el administrador para renovar tu cuota.');
                return;
            }
            
            if (socio.estado === 'pendiente' && !socio.pagado) {
                alert('⚠️ Tu cuenta está pendiente de validación. Tienes 7 días para completar el pago.');
                return;
            }
            
            // Login exitoso
            localStorage.setItem('currentSocio', JSON.stringify(socio));
            closeLoginModal();
            alert('✅ ¡Bienvenido de vuelta! Acceso concedido como socio.');
            
            // Redirigir a la página de socios
            window.open('members-access.html', '_blank');
        }

        // ===== FUNCIONES DE LOGIN PARA AMIGOS =====
        function loginAmigo(event) {
            event.preventDefault();
            
            const email = document.getElementById('amigoEmail').value.trim();
            const phone = document.getElementById('amigoPhone').value.trim();
            
            if (!email || !phone) {
                alert('❌ Por favor, completa todos los campos');
                return;
            }
            
            // Buscar amigo en localStorage
            const amigos = JSON.parse(localStorage.getItem('clubFriends') || '[]');
            const amigo = amigos.find(a => 
                (a.email === email && a.telefono === phone) ||
                (a.email === phone && a.telefono === email)
            );
            
            if (!amigo) {
                alert('❌ No se encontró ningún amigo con esos datos. Verifica tu correo y teléfono.');
                return;
            }
            
            if (amigo.estado !== 'activo') {
                alert('❌ Tu cuenta no está activa. Contacta con el administrador.');
                return;
            }
            
            // Login exitoso
            localStorage.setItem('currentAmigo', JSON.stringify(amigo));
            closeLoginModal();
            alert('✅ ¡Bienvenido de vuelta! Acceso concedido como amigo del club.');
            
            // Redirigir a la página de amigos
            window.open('friends-access.html', '_blank');
        }

        // ===== FUNCIONES DE LOGIN PARA ENTRENADORES =====
        function loginCoach(event) {
            event.preventDefault();
            
            const identifier = document.getElementById('coachIdentifier').value.trim();
            
            if (!identifier) {
                alert('❌ Por favor, introduce tu email o teléfono');
                return;
            }
            
            // Buscar entrenador en localStorage
            const coaches = JSON.parse(localStorage.getItem('clubCoaches') || '[]');
            const coach = coaches.find(c => 
                c.email === identifier || c.phone === identifier
            );
            
            if (!coach) {
                alert('❌ No se encontró ningún entrenador con esos datos. Verifica tu email o teléfono.');
                return;
            }
            
            if (coach.status !== 'active') {
                alert('❌ Tu cuenta no está activa. Contacta con el administrador para validar tu acceso.');
                return;
            }
            
            // Actualizar información de acceso
            coach.lastAccess = new Date().toISOString();
            coach.accessCount = (coach.accessCount || 0) + 1;
            
            // Guardar cambios
            const updatedCoaches = coaches.map(c => c.id === coach.id ? coach : c);
            localStorage.setItem('clubCoaches', JSON.stringify(updatedCoaches));
            
            // Login exitoso
            localStorage.setItem('currentCoach', JSON.stringify(coach));
            closeLoginModal();
            alert(`✅ ¡Bienvenido de vuelta! Acceso concedido como entrenador.\n\n👨‍🏫 ${coach.name} ${coach.surname}\n⚽ Equipo: ${coach.team}`);
            
            // Redirigir a la página de entrenadores
            window.open('coach-panel.html', '_blank');
        }

        // ===== FUNCIONES DEL CARRUSEL DE PUBLICIDAD =====
        
        let currentSlide = 0;
        let carouselSlides = [];
        let carouselInterval;

        // Cargar anuncios del carrusel
        function loadCarouselAds() {
            try {
                const advertisements = JSON.parse(localStorage.getItem('clubAdvertisements') || '[]');
                const carouselAds = advertisements.filter(ad => 
                    ad.type === 'carrusel' && 
                    ad.status === 'active' && 
                    (!ad.startDate || new Date(ad.startDate) <= new Date()) &&
                    (!ad.endDate || new Date(ad.endDate) >= new Date())
                );
                
                if (carouselAds.length === 0) {
                    document.getElementById('adCarousel').style.display = 'none';
                    return;
                }
                
                // Ordenar por posición
                carouselAds.sort((a, b) => a.position - b.position);
                carouselSlides = carouselAds;
                
                // Mostrar carrusel
                document.getElementById('adCarousel').style.display = 'block';
                
                // Generar slides
                generateCarouselSlides();
                
                // Iniciar autoplay
                startCarouselAutoplay();
                
                console.log('✅ Carrusel de publicidad cargado:', carouselAds.length, 'anuncios');
                
            } catch (error) {
                console.error('❌ Error cargando carrusel:', error);
                document.getElementById('adCarousel').style.display = 'none';
            }
        }

        // Generar slides del carrusel
        function generateCarouselSlides() {
            const slidesContainer = document.getElementById('carouselSlides');
            const dotsContainer = document.getElementById('carouselDots');
            
            let slidesHTML = '';
            let dotsHTML = '';
            
            carouselSlides.forEach((ad, index) => {
                // Generar slide
                slidesHTML += `
                    <div class="carousel-slide" onclick="handleAdClick('${ad.id}')">
                        ${ad.image ? `<img src="${ad.image}" alt="${ad.title}">` : ''}
                        <div class="carousel-slide-content">
                            <div class="carousel-slide-title">${ad.title}</div>
                            <div class="carousel-slide-company">${ad.company}</div>
                        </div>
                    </div>
                `;
                
                // Generar punto
                dotsHTML += `<div class="carousel-dot ${index === 0 ? 'active' : ''}" onclick="goToSlide(${index})"></div>`;
            });
            
            slidesContainer.innerHTML = slidesHTML;
            dotsContainer.innerHTML = dotsHTML;
            
            // Mostrar primer slide
            showSlide(0);
        }

        // Mostrar slide específico
        function showSlide(index) {
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            
            if (slides.length === 0) return;
            
            // Ocultar todos los slides
            slides.forEach(slide => slide.style.display = 'none');
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Mostrar slide actual
            if (slides[index]) {
                slides[index].style.display = 'flex';
                dots[index].classList.add('active');
            }
            
            currentSlide = index;
        }

        // Cambiar slide
        function changeSlide(direction) {
            const totalSlides = carouselSlides.length;
            if (totalSlides === 0) return;
            
            let newIndex = currentSlide + direction;
            
            if (newIndex >= totalSlides) {
                newIndex = 0;
            } else if (newIndex < 0) {
                newIndex = totalSlides - 1;
            }
            
            showSlide(newIndex);
        }

        // Ir a slide específico
        function goToSlide(index) {
            if (index >= 0 && index < carouselSlides.length) {
                showSlide(index);
            }
        }

        // Iniciar autoplay del carrusel
        function startCarouselAutoplay() {
            if (carouselSlides.length <= 1) return;
            
            carouselInterval = setInterval(() => {
                changeSlide(1);
            }, 5000); // Cambiar cada 5 segundos
        }

        // Detener autoplay
        function stopCarouselAutoplay() {
            if (carouselInterval) {
                clearInterval(carouselInterval);
            }
        }

        // Manejar click en anuncio
        function handleAdClick(adId) {
            try {
                const advertisements = JSON.parse(localStorage.getItem('clubAdvertisements') || '[]');
                const ad = advertisements.find(a => a.id === adId);
                
                if (ad && ad.url) {
                    // Incrementar contador de clicks
                    ad.clicks = (ad.clicks || 0) + 1;
                    localStorage.setItem('clubAdvertisements', JSON.stringify(advertisements));
                    
                    // Abrir enlace
                    window.open(ad.url, '_blank');
                    
                    console.log('✅ Click en anuncio registrado:', ad.title);
                }
            } catch (error) {
                console.error('❌ Error manejando click en anuncio:', error);
            }
        }

        // Registrar vista de anuncio
        function registerAdView(adId) {
            try {
                const advertisements = JSON.parse(localStorage.getItem('clubAdvertisements') || '[]');
                const adIndex = advertisements.findIndex(a => a.id === adId);
                
                if (adIndex !== -1) {
                    advertisements[adIndex].views = (advertisements[adIndex].views || 0) + 1;
                    localStorage.setItem('clubAdvertisements', JSON.stringify(advertisements));
                }
            } catch (error) {
                console.error('❌ Error registrando vista:', error);
            }
        }

        // ===== FUNCIÓN PARA LIMPIAR SOCIOS EXPIRADOS =====
        
        function limpiarSociosExpirados() {
            try {
                const socios = JSON.parse(localStorage.getItem('clubMembers') || '[]');
                const ahora = new Date();
                let sociosEliminados = 0;
                
                const sociosActualizados = socios.filter(socio => {
                    const fechaVencimiento = new Date(socio.fechaVencimiento);
                    const diasRestantes = Math.ceil((fechaVencimiento - ahora) / (1000 * 60 * 60 * 24));
                    
                    // Si han pasado más de 7 días y no está pagado, eliminar
                    if (diasRestantes < 0 && !socio.pagado && socio.estado === 'pendiente') {
                        sociosEliminados++;
                        console.log(`🗑️ Socio expirado eliminado: ${socio.nombre} ${socio.apellidos} (${socio.numeroSocio})`);
                        return false;
                    }
                    
                    // Si han pasado 7 días y no está pagado, marcar como expirado
                    if (diasRestantes <= 0 && !socio.pagado && socio.estado === 'pendiente') {
                        socio.estado = 'expirado';
                        console.log(`⏰ Socio marcado como expirado: ${socio.nombre} ${socio.apellidos} (${socio.numeroSocio})`);
                    }
                    
                    return true;
                });
                
                if (sociosEliminados > 0) {
                    localStorage.setItem('clubMembers', JSON.stringify(sociosActualizados));
                    console.log(`🧹 Limpieza automática: ${sociosEliminados} socios expirados eliminados`);
                }
                
                return sociosEliminados;
            } catch (error) {
                console.error('❌ Error limpiando socios expirados:', error);
                return 0;
            }
        }

    </script>
</body>
</html> 
</html> 