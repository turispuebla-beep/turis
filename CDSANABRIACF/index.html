<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDSANABRIACF - Club Deportivo Sanabriacf</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #dc2626; /* Rojo fijo */
            --secondary-color: #3b82f6; /* Azul fijo */
            --text-color: #1f2937;
            --text-light-color: #6b7280;
            --button-color: #dc2626; /* Rojo fijo */
            --button-hover-color: #b91c1c;
            --background-color: #ffffff;
            --card-background-color: #f8fafc;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .team-info {
            background: var(--card-background-color);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            margin-bottom: 40px;
        }

        .team-logo {
            width: 150px;
            height: 150px;
            background: #e5e7eb;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--primary-color);
            border: 4px solid var(--secondary-color);
            overflow: hidden;
        }

        .team-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .logo-message {
            text-align: center;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: var(--card-background-color);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .feature-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .feature-description {
            color: var(--text-light-color);
            line-height: 1.6;
        }

        .cta-section {
            text-align: center;
            background: var(--background-color);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            transition: transform 0.3s ease;
            margin: 10px;
        }

        .cta-button:hover {
            transform: scale(1.05);
        }

        .download-section {
            margin-top: 30px;
        }

        .download-button {
            background: var(--button-color);
            margin: 5px;
        }

        .download-button:hover {
            background: var(--button-hover-color);
        }

        footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            opacity: 0.8;
        }

        .admin-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .admin-button:hover {
            background: #b91c1c;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .coach-access-button {
            background: #059669;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .coach-access-button:hover {
            background: #047857;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        /* Estilos para el carrusel de publicidad */
        .ad-carousel {
            margin: 20px auto;
            max-width: 800px;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        .carousel-slides {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 100%;
            will-change: transform;
        }

        .carousel-slide {
            min-width: calc(100% / 3);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            cursor: pointer;
        }

        .carousel-slide img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .carousel-slide-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 15px;
            text-align: center;
        }

        .carousel-slide-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .carousel-slide-company {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 1.2rem;
            border-radius: 50%;
            transition: background 0.3s ease;
            z-index: 10;
        }

        .carousel-btn:hover {
            background: rgba(0,0,0,0.8);
        }

        .carousel-btn.prev {
            left: 10px;
        }

        .carousel-btn.next {
            right: 10px;
        }

        .carousel-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .carousel-dot.active {
            background: white;
        }

        @media (max-width: 768px) {
            .ad-carousel {
                margin: 15px;
                max-width: none;
            }
            
            .carousel-container {
                height: 200px;
            }
            /* En m√≥viles mostramos 1 por vista */
            .carousel-slide {
                min-width: 100%;
            }
            
            .carousel-slide-title {
                font-size: 1rem;
            }
            
            .carousel-slide-company {
                font-size: 0.8rem;
            }
        }



        .multimedia-section {
            background: var(--card-background-color);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            text-align: center;
        }

        .multimedia-section h2 {
            color: var(--text-color);
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .multimedia-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .gallery-item {
            border: 1px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
            background: white;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
        }

        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .gallery-item video {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .gallery-item-info {
            padding: 15px;
        }

        .gallery-item-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--text-color);
        }

        .gallery-item-type {
            font-size: 14px;
            color: var(--text-light-color);
        }

        .access-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        /* Estilos para los modales de registro */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 2% auto;
            padding: 25px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 15px;
        }

        .close:hover {
            color: #000;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--text-color);
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }

        .form-group input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .form-group input[type="checkbox"] {
            margin-right: 10px;
        }

        .form-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            flex: 1;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
        }

        .btn-secondary {
            background: #6b7280;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            flex: 1;
        }

        .btn-secondary:hover {
            background: #4b5563;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 10px;
            }
        }

        /* Estilos para el modal de login din√°mico */
        #loginModal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #loginModal .modal-content {
            background-color: white;
            margin: auto;
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 350px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        #loginModal .btn-primary,
        #loginModal .btn-secondary {
            padding: 6px 12px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚öΩ CDSANABRIACF</h1>
            <p class="subtitle">Club Deportivo Sanabriacf - Pasi√≥n por el F√∫tbol</p>
            
            <!-- Botones de acceso en la parte superior -->
            <div class="access-buttons" style="margin-top: 20px; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
                <button class="access-btn" onclick="showLoginModal(createSocioLoginForm())" style="background: var(--primary-color); color: white; border: none; padding: 12px 24px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Socios
                </button>
                <button class="access-btn" onclick="openOnlineStore()" style="background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); color: white; border: none; padding: 12px 24px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    üè™ TIENDA
                </button>
                <button class="access-btn" onclick="showLoginModal(createAmigoLoginForm())" style="background: var(--secondary-color); color: white; border: none; padding: 12px 24px; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    ü§ù Amigos del Club
                </button>
            </div>
        </header>

        <!-- Carrusel de Publicidad -->
        <div id="adCarousel" class="ad-carousel" style="display: none;">
            <div class="carousel-container">
                <div class="carousel-slides" id="carouselSlides">
                    <!-- Los slides se cargar√°n din√°micamente -->
                </div>
                <button class="carousel-btn prev" onclick="changeSlide(-1)">‚ùÆ</button>
                <button class="carousel-btn next" onclick="changeSlide(1)">‚ùØ</button>
                <div class="carousel-dots" id="carouselDots">
                    <!-- Los puntos se generar√°n din√°micamente -->
                </div>
            </div>
        </div>

        <!-- Indicador del d√≠a actual -->
        <div class="current-day-banner" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 12px; text-align: center; font-size: 0.9rem; border-radius: 10px; margin-bottom: 20px;">
            <span id="currentDayDisplay">üìÖ Cargando fecha actual...</span>
            <span id="currentTimeDisplay" style="margin-left: 15px; opacity: 0.9;">‚è∞ Cargando hora...</span>
        </div>

        <div class="team-info">
            <div class="team-logo">
                üèÜ
            </div>
            <div class="logo-message" id="logoMessage">
                <!-- Mensaje debajo del logo se cargar√° aqu√≠ -->
            </div>
            <h2>Bienvenidos al Club Deportivo Sanabriacf</h2>
            <p>Un equipo con tradici√≥n, pasi√≥n y compromiso con el f√∫tbol. Formamos parte de la familia TURISTEAM.</p>
        </div>

        <div class="features">
            <div class="feature-card" onclick="openFeature('equipos')" style="cursor: pointer;">
                <div class="feature-icon">‚öΩ</div>
                <h3 class="feature-title">Nuestro Equipo</h3>
                <p class="feature-description">
                    Conoce a nuestros jugadores, entrenadores y personal t√©cnico. 
                    Un equipo unido con un objetivo com√∫n: la excelencia deportiva.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Equipos</button>
            </div>

            <div class="feature-card" onclick="openFeature('calendario')" style="cursor: pointer;">
                <div class="feature-icon">üìÖ</div>
                <h3 class="feature-title">Partidos y Calendario</h3>
                <p class="feature-description">
                    Consulta nuestro calendario de partidos y entrenamientos. 
                    Mantente al d√≠a con todas las actividades del club.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Calendario</button>
            </div>

            <div class="feature-card" onclick="openFeature('eventos')" style="cursor: pointer;">
                <div class="feature-icon">üéâ</div>
                <h3 class="feature-title">Eventos del Club</h3>
                <p class="feature-description">
                    Participa en eventos, torneos y actividades especiales. 
                    Mantente informado de todas las actividades del club.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Eventos</button>
            </div>

            <div class="feature-card" onclick="openFeature('competiciones')" style="cursor: pointer;">
                <div class="feature-icon">üèÜ</div>
                <h3 class="feature-title">Competiciones</h3>
                <p class="feature-description">
                    Participamos en ligas, torneos y competiciones. 
                    Gesti√≥n de clasificaciones y resultados del club.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Competiciones</button>
            </div>

            <div class="feature-card" onclick="openFeature('multimedia')" style="cursor: pointer;">
                <div class="feature-icon">üì∏</div>
                <h3 class="feature-title">Galer√≠a Multimedia</h3>
                <p class="feature-description">
                    Fotos, videos y documentos del club. 
                    Revive los mejores momentos del equipo.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Galer√≠a</button>
            </div>

            <div class="feature-card" onclick="openFeature('contacto')" style="cursor: pointer;">
                <div class="feature-icon">üìû</div>
                <h3 class="feature-title">Contacto</h3>
                <p class="feature-description">
                    Informaci√≥n de contacto y horarios del club. 
                    Ponte en contacto con nosotros.
                </p>
                <button class="feature-btn" style="background: var(--primary-color); color: white; border: none; padding: 8px 16px; border-radius: 20px; margin-top: 15px; cursor: pointer;">Ver Contacto</button>
            </div>
        </div>

        <div class="cta-section">
            <h2>¬°√önete a CDSANABRIACF!</h2>
            <p>Accede a todas las funcionalidades de gesti√≥n futbol√≠stica</p>
            
            <div class="download-section">
                <button class="cta-button" onclick="document.getElementById('sociosModal').style.display = 'block'">
                    üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Hacerse Socio
                </button>
                <button class="cta-button" onclick="document.getElementById('amigosModal').style.display = 'block'">
                    ü§ù Ser Amigo del Club
                </button>
                <button class="cta-button" onclick="openFeature('contacto')">
                    üìß Contactar
                </button>
            </div>
            
            <!-- Bot√≥n de Tienda movido al men√∫ superior -->
        </div>

        <!-- Redes Sociales -->
        <div id="socialSection" style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin: 20px 0; text-align:center;">
            <h3 style="color: var(--text-color); margin-bottom: 12px;">S√≠guenos en redes</h3>
            <div id="socialButtons" style="display: inline-flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                <a id="facebookLink" href="#" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; background: #1877f2; color: white; padding: 10px 16px; border-radius: 24px; text-decoration: none; font-weight: 700;">
                    <span>üìò</span> <span>Facebook</span>
                </a>
                <a id="instagramLink" href="#" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; background: #e1306c; color: white; padding: 10px 16px; border-radius: 24px; text-decoration: none; font-weight: 700;">
                    <span>üì∏</span> <span>Instagram</span>
                </a>
            </div>
        </div>

        <!-- Secci√≥n Multimedia -->
        <div class="multimedia-section">
            <h2>üì∏ Galer√≠a Multimedia</h2>
            <div id="multimediaGallery" class="multimedia-gallery">
                <p>Cargando galer√≠a multimedia...</p>
            </div>
        </div>

        <!-- Modal de Registro de Socios -->
        <div id="sociosModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" onclick="closeSociosModal()">&times;</span>
                <h2>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Registro de Socio</h2>
                <p style="color: #dc2626; font-weight: bold; margin-bottom: 20px;">‚ö†Ô∏è IMPORTANTE: Los socios deben pagar una cuota. Si no se valida el pago en 7 d√≠as, ser√°s excluido hasta el pago.</p>
                
                <form id="sociosForm" onsubmit="registerSocio(event)">
                    <div class="form-group">
                        <label for="socioNombre">Nombre *</label>
                        <input type="text" id="socioNombre" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="socioApellidos">Apellidos *</label>
                        <input type="text" id="socioApellidos" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="socioFechaNacimiento">Fecha de Nacimiento *</label>
                        <input type="date" id="socioFechaNacimiento" required onchange="actualizarCuotaSocioPorEdad()">
                        <small id="socioEdadInfo" style="display:block; color:#6b7280; margin-top:6px;">Edad: -</small>
                    </div>

                    <div class="form-group">
                        <label for="socioDNI">DNI</label>
                        <input type="text" id="socioDNI">
                    </div>
                    
                    <div class="form-group">
                        <label for="socioDireccion">Direcci√≥n</label>
                        <input type="text" id="socioDireccion">
                    </div>
                    
                    <div class="form-group">
                        <label for="socioTelefono">Tel√©fono *</label>
                        <input type="tel" id="socioTelefono" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="socioEmail">Correo Electr√≥nico</label>
                        <input type="email" id="socioEmail">
                    </div>
                    
                    <div class="form-group">
                        <label for="socioCuota">Cuota de Socio (‚Ç¨)</label>
                        <input type="number" id="socioCuota" value="20" min="0" step="0.01" readonly>
                        <div style="display:flex; gap:14px; align-items:center; margin-top:6px; flex-wrap:wrap;">
                            <label style="display:inline-flex; align-items:center; gap:6px;">
                                <input type="radio" name="socioCuotaRadio" value="20" checked onchange="seleccionarCuotaManual(20)">
                                <span style="font-weight:700; color:#dc2626;">Cuota: 20 ‚Ç¨ (Adulto)</span>
                            </label>
                            <label style="display:inline-flex; align-items:center; gap:6px;">
                                <input type="radio" name="socioCuotaRadio" value="10" onchange="seleccionarCuotaManual(10)">
                                <span style="font-weight:700; color:#dc2626;">Cuota: 10 ‚Ç¨ (Menor)</span>
                            </label>
                        </div>
                        <small style="display:block; color:#6b7280; margin-top:6px;">Adulto (‚â•18): 20 ‚Ç¨ ¬∑ Menor (‚â§17): 10 ‚Ç¨</small>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="socioConsentimiento" required>
                            Acepto las condiciones y el pago de la cuota *
                        </label>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn-primary">Registrarse como Socio</button>
                        <button type="button" class="btn-secondary" onclick="closeSociosModal()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal de Registro de Amigos -->
        <div id="amigosModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close" onclick="closeAmigosModal()">&times;</span>
                <h2>ü§ù Registro de Amigo del Club</h2>
                <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">‚úÖ GRATUITO: El registro como amigo del club es completamente gratuito.</p>
                
                <form id="amigosForm" onsubmit="registerAmigo(event)">
                    <div class="form-group">
                        <label for="amigoNombre">Nombre *</label>
                        <input type="text" id="amigoNombre" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="amigoApellidos">Apellidos *</label>
                        <input type="text" id="amigoApellidos" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="amigoDNI">DNI</label>
                        <input type="text" id="amigoDNI">
                    </div>
                    
                    <div class="form-group">
                        <label for="amigoTelefono">Tel√©fono *</label>
                        <input type="tel" id="amigoTelefono" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="amigoEmail">Correo Electr√≥nico *</label>
                        <input type="email" id="amigoEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="amigoConsentimiento" required>
                            Acepto las condiciones del club *
                        </label>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn-primary">Registrarse como Amigo</button>
                        <button type="button" class="btn-secondary" onclick="closeAmigosModal()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Datos de Contacto -->
        <div class="contact-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-top: 40px;">
            <h2 style="color: var(--text-color); margin-bottom: 20px; text-align: center;">üìû Datos de Contacto</h2>
            <div id="contactInfo" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; text-align: center;">
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">üìß Email</h4>
                    <p id="contactEmail" style="color: var(--text-light-color);">cdsanabriacf@gmail.com</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">üì± Tel√©fono</h4>
                    <p id="contactPhone" style="color: var(--text-light-color);">+34 600 000 000</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">üìç Direcci√≥n</h4>
                    <p id="contactAddress" style="color: var(--text-light-color);">Crta. del Pinar, s/n, 49300 Puebla de Sanabria, Zamora</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">üåê Sitio Web</h4>
                    <p id="contactWebsite" style="color: var(--text-light-color);">www.cdsanabriacf.com</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">üì± WhatsApp</h4>
                    <p id="contactWhatsApp" style="color: var(--text-light-color);">+34 600 000 000</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">‚è∞ Horarios</h4>
                    <p id="contactHours" style="color: var(--text-light-color);">Lunes a Viernes: 9:00 - 18:00</p>
                </div>
                <div>
                    <h4 style="color: var(--text-color); margin-bottom: 10px;">üè∑Ô∏è CIF</h4>
                    <p id="contactCIF" style="color: var(--text-light-color);">G49115413</p>
                </div>
            </div>
        </div>

        <!-- Pol√≠tica de Protecci√≥n de Datos -->
        <div class="privacy-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-top: 20px;">
            <h2 style="color: var(--text-color); margin-bottom: 20px; text-align: center; cursor: pointer;" onclick="togglePrivacyPolicy()">
                üîí Pol√≠tica de Protecci√≥n de Datos <span id="privacyToggle" style="font-size: 1.2rem;">‚ñº</span>
            </h2>
            <div id="privacyContent" style="display: none; color: var(--text-light-color); line-height: 1.6;">
                <h3 style="color: var(--text-color); margin-bottom: 15px;">Informaci√≥n sobre Protecci√≥n de Datos</h3>
                
                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Responsable del Tratamiento</h4>
                <p>Club Deportivo Sanabriacf (CDSANABRIACF)<br>
                Direcci√≥n: [Direcci√≥n del club]<br>
                Email: cdsanabriacf@gmail.com<br>
                Tel√©fono: +34 600 000 000</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Finalidad del Tratamiento</h4>
                <p>Sus datos personales ser√°n tratados para las siguientes finalidades:</p>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li>Gesti√≥n de la relaci√≥n con socios, jugadores y amigos del club</li>
                    <li>Organizaci√≥n de eventos y actividades deportivas</li>
                    <li>Comunicaciones relacionadas con el club</li>
                    <li>Gesti√≥n administrativa y contable</li>
                </ul>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Legitimaci√≥n</h4>
                <p>El tratamiento de sus datos se basa en:</p>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li>Consentimiento del interesado</li>
                    <li>Ejecuci√≥n de un contrato</li>
                    <li>Inter√©s leg√≠timo del responsable</li>
                </ul>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Conservaci√≥n de Datos</h4>
                <p>Los datos se conservar√°n mientras se mantenga la relaci√≥n con el club y no se solicite su supresi√≥n, y en su caso, durante los a√±os necesarios para cumplir con las obligaciones legales.</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Destinatarios</h4>
                <p>Sus datos no ser√°n cedidos a terceros salvo obligaci√≥n legal o cuando sea necesario para la prestaci√≥n de los servicios solicitados.</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Derechos</h4>
                <p>Puede ejercer sus derechos de acceso, rectificaci√≥n, supresi√≥n, limitaci√≥n, portabilidad y oposici√≥n contactando con nosotros en cdsanabriacf@gmail.com</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Autoridad de Control</h4>
                <p>Puede presentar una reclamaci√≥n ante la Agencia Espa√±ola de Protecci√≥n de Datos (AEPD) si considera que el tratamiento no se ajusta a la normativa vigente.</p>

                <h4 style="color: var(--text-color); margin-top: 20px; margin-bottom: 10px;">Ejemplos gen√©ricos de datos gestionados</h4>
                <p style="margin-bottom: 10px;">A modo informativo, estos son ejemplos gen√©ricos de los tipos de datos gestionados por cada m√≥dulo del club:</p>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li><strong>Jugadores</strong>: "Juan P√©rez ‚Äî DNI 00000000A ‚Äî Tel. 600 000 000 ‚Äî Dorsal 9 ‚Äî Alev√≠n"</li>
                    <li><strong>Socios</strong>: "Mar√≠a Garc√≠a ‚Äî Tel. 600 111 111 ‚Äî Email ejemplo@correo.com ‚Äî Cuota 20/10‚Ç¨"</li>
                    <li><strong>Amigos del club</strong>: "Luis L√≥pez ‚Äî Tel. 600 222 222 ‚Äî Email amigo@correo.com (acceso limitado)"</li>
                    <li><strong>Entrenadores</strong>: "Ana Torres ‚Äî Tel. 600 333 333 ‚Äî Email coach@correo.com ‚Äî Equipo: Infantil"</li>
                    <li><strong>Eventos</strong>: "Convivencia del club ‚Äî Fecha 01/06/2025 ‚Äî Precio 5‚Ç¨ ‚Äî Inscritos m√≠nimos 10"</li>
                    <li><strong>Competiciones</strong>: "Liga Alev√≠n ‚Äî 10 equipos ‚Äî Fase regular"</li>
                    <li><strong>Tienda</strong>: "Camiseta Oficial ‚Äî Tallas S-XXL ‚Äî Color Rojo/Azul ‚Äî Stock 20 ‚Äî Entrega en mano"</li>
                    <li><strong>Compras</strong>: "Cliente socio: Carlos Ruiz ‚Äî Variante M Rojo ‚Äî Precio 20‚Ç¨ ‚Äî Estado Completada"</li>
                    <li><strong>Multimedia</strong>: "Foto entrenamiento 2025-05-01.jpg ‚Äî V√≠deo partido 2025-05-10.mp4 ‚Äî Documento norma.pdf"</li>
                    <li><strong>Publicidad</strong>: "Patrocinador X ‚Äî Banner 1200x600 ‚Äî URL https://ejemplo.com"</li>
                </ul>

                <p style="margin-top: 20px; font-style: italic; color: var(--text-color);">
                    √öltima actualizaci√≥n: Diciembre 2024
                </p>
            </div>
        </div>

        <footer>
            <p>&copy; 2024 CDSANABRIACF. Todos los derechos reservados.</p>
            <p>Club Deportivo Sanabriacf - Miembro de TURISTEAM</p>
        </footer>
    </div>

    <div style="position: fixed; bottom: 20px; right: 20px; display: flex; gap: 10px; z-index: 1000;">
        <button class="admin-button" onclick="openAdminPanel()">üîß Admin</button>
        <button class="coach-access-button" onclick="openCoachesAccess()" style="background: #059669; color: white; border: none; padding: 10px 15px; border-radius: 25px; cursor: pointer; font-size: 0.9rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease;">üë®‚Äçüè´ Entrenadores</button>
    </div>

    <script>
        // Configuraci√≥n espec√≠fica para CDSANABRIACF
        let teamSettings = {
            teamName: 'CDSANABRIACF',
            teamSubtitle: 'Club Deportivo Sanabriacf - Pasi√≥n por el F√∫tbol',
            contactEmail: 'cdsanabriacf@gmail.com',
            phoneNumber: '+34 123 456 789',
            address: 'Calle del Deporte 123, San Abriacf, Espa√±a',
            primaryColor: '#dc2626', // Rojo por defecto
            secondaryColor: '#3b82f6', // Azul por defecto
            textColor: '#1f2937',
            textLightColor: '#6b7280',
            buttonColor: '#dc2626',
            buttonHoverColor: '#b91c1c',
            backgroundColor: '#ffffff',
            cardBackgroundColor: '#f8fafc',
            teamLogo: null,
            teamShield: null,
            favicon: null,
            logoWidth: '150',
            logoHeight: '150',
            logoMessage: '¬°Bienvenidos al Club Deportivo Sanabriacf! ‚öΩ',
            adHeader: '',
            adSidebar: '',
            adFooter: '',
            adPopup: '',
            adFrequency: 'always'
        };

        // Cargar configuraci√≥n del equipo
        function loadSettings() {
            const savedSettings = localStorage.getItem('cdsanabriacfSettings');
            if (savedSettings) {
                teamSettings = JSON.parse(savedSettings);
                            // Forzar colores fijos siempre
            teamSettings.primaryColor = '#dc2626'; // Rojo fijo
            teamSettings.secondaryColor = '#3b82f6'; // Azul fijo
            } else {
                // Configuraci√≥n por defecto para CDSANABRIACF
                teamSettings = {
                    teamName: 'CDSANABRIACF',
                    teamSubtitle: 'Club Deportivo Sanabriacf',
                    primaryColor: '#dc2626', // Rojo fijo por defecto
                    secondaryColor: '#3b82f6', // Azul fijo por defecto
                    textColor: '#1f2937',
                    textLightColor: '#6b7280',
                    buttonColor: '#dc2626',
                    buttonHoverColor: '#b91c1c',
                    backgroundColor: '#ffffff',
                    cardBackgroundColor: '#f8fafc',
                    teamLogo: '',
                    teamShield: '',
                    favicon: '',
                    logoMessage: '¬°Bienvenidos al Club Deportivo Sanabriacf! ‚öΩ',
                    adHeader: '',
                    adFooter: '',
                    adPopup: '',
                    adFrequency: 'once'
                };
                localStorage.setItem('cdsanabriacfSettings', JSON.stringify(teamSettings));
            }
            applySettings();
        }

        // Aplicar configuraci√≥n a la p√°gina
        function applySettings() {
            // Aplicar t√≠tulo y subt√≠tulo
            document.title = teamSettings.teamName + ' - Equipo de F√∫tbol';
            document.querySelector('h1').textContent = '‚öΩ ' + teamSettings.teamName;
            document.querySelector('.subtitle').textContent = teamSettings.teamSubtitle;

            // Forzar colores fijos
            const primaryColor = '#dc2626'; // Rojo fijo
            const secondaryColor = '#3b82f6'; // Azul fijo
            
            document.documentElement.style.setProperty('--primary-color', primaryColor);
            document.documentElement.style.setProperty('--secondary-color', secondaryColor);
            document.documentElement.style.setProperty('--text-color', teamSettings.textColor);
            document.documentElement.style.setProperty('--text-light-color', teamSettings.textLightColor);
            document.documentElement.style.setProperty('--button-color', teamSettings.buttonColor);
            document.documentElement.style.setProperty('--button-hover-color', teamSettings.buttonHoverColor);
            document.documentElement.style.setProperty('--background-color', teamSettings.backgroundColor);
            document.documentElement.style.setProperty('--card-background-color', teamSettings.cardBackgroundColor);

            // Aplicar texto CDSANABRIACF en blanco
            applyCDSANABRIACFWhiteColor();

            // Aplicar logo del club
            loadClubLogo();

            // Aplicar mensaje debajo del logo
            loadLogoMessage();

            // Aplicar favicon
            if (teamSettings.favicon) {
                const favicon = document.querySelector('link[rel="icon"]') || document.createElement('link');
                favicon.rel = 'icon';
                favicon.href = teamSettings.favicon;
                document.head.appendChild(favicon);
            }

            // Aplicar publicidad
            applyAdvertisements();

            // Aplicar redes sociales si est√°n configuradas
            applySocialLinks();
        }

        // Funci√≥n para aplicar color blanco al texto CDSANABRIACF
        function applyCDSANABRIACFWhiteColor() {
            // Buscar todos los elementos que contengan "CDSANABRIACF"
            const elements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, div, strong, b');
            elements.forEach(element => {
                if (element.textContent.includes('CDSANABRIACF')) {
                    element.style.color = '#ffffff';
                }
            });
            
            // Buscar espec√≠ficamente el t√≠tulo principal
            const mainTitle = document.querySelector('h1');
            if (mainTitle && mainTitle.textContent.includes('CDSANABRIACF')) {
                mainTitle.style.color = '#ffffff';
            }
            
            console.log('‚úÖ Texto CDSANABRIACF aplicado en color blanco');
        }

        // Funci√≥n para cargar el logo del club
        function loadClubLogo() {
            try {
                const clubLogoData = localStorage.getItem('clubLogo');
                const logoElement = document.querySelector('.team-logo');
                
                if (!logoElement) {
                    console.error('‚ùå No se encontr√≥ el elemento .team-logo');
                    return;
                }
                
                if (clubLogoData && clubLogoData !== 'null' && clubLogoData !== '' && clubLogoData !== 'undefined') {
                    // Intentar parsear como JSON (formato del panel de admin)
                    let logoUrl = null;
                    try {
                        const logoObj = JSON.parse(clubLogoData);
                        if (logoObj && logoObj.dataUrl) {
                            logoUrl = logoObj.dataUrl;
                        }
                    } catch (e) {
                        // Si no es JSON, usar como string directo (formato antiguo)
                        logoUrl = clubLogoData;
                    }
                    
                    if (logoUrl) {
                        // Si hay un logo guardado, mostrarlo
                        logoElement.innerHTML = `<img src="${logoUrl}" alt="Logo del Club CDSANABRIACF" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%; border: 4px solid var(--secondary-color);">`;
                        console.log('‚úÖ Logo del club cargado correctamente');
                        
                        // Verificar que la imagen se carg√≥ correctamente
                        const img = logoElement.querySelector('img');
                        if (img) {
                            img.onload = function() {
                                console.log('‚úÖ Imagen del logo cargada exitosamente');
                            };
                            img.onerror = function() {
                                console.error('‚ùå Error al cargar la imagen del logo');
                                loadDefaultLogo();
                            };
                        }
                    } else {
                        loadDefaultLogo();
                    }
                } else {
                    loadDefaultLogo();
                }
            } catch (error) {
                console.error('‚ùå Error cargando logo del club:', error);
                loadDefaultLogo();
            }
        }

        // Funci√≥n para cargar el logo por defecto
        function loadDefaultLogo() {
                const logoElement = document.querySelector('.team-logo');
                if (logoElement) {
                // Usar la foto como ejemplo pero mantener el sistema anterior
                logoElement.innerHTML = 'üõ°Ô∏è';
                    logoElement.style.fontSize = '3rem';
                    logoElement.style.color = 'var(--primary-color)';
                    logoElement.style.border = '4px solid var(--secondary-color)';
                console.log('‚úÖ Logo por defecto cargado (escudo)');
            }
        }

        // Funci√≥n para cargar el mensaje debajo del logo
        function loadLogoMessage() {
            const messageElement = document.getElementById('logoMessage');
            if (messageElement) {
                // Cargar desde la configuraci√≥n del equipo
                const teamSettings = JSON.parse(localStorage.getItem('cdsanabriacfSettings') || '{}');
                const messageText = teamSettings.logoMessage || '¬°Bienvenidos al Club Deportivo Sanabriacf! ‚öΩ';
                
                messageElement.innerHTML = messageText;
                console.log('‚úÖ Mensaje del logo cargado:', messageText);
            }
        }



        // Aplicar publicidad
        function applyAdvertisements() {
            // Publicidad en header
            if (teamSettings.adHeader) {
                const headerAd = document.createElement('div');
                headerAd.className = 'header-ad';
                headerAd.innerHTML = teamSettings.adHeader;
                headerAd.style.cssText = 'background: #f8f9fa; padding: 10px; text-align: center; border-bottom: 1px solid #ddd;';
                document.body.insertBefore(headerAd, document.body.firstChild);
            }

            // Publicidad en footer
            if (teamSettings.adFooter) {
                const footerAd = document.createElement('div');
                footerAd.className = 'footer-ad';
                footerAd.innerHTML = teamSettings.adFooter;
                footerAd.style.cssText = 'background: #f8f9fa; padding: 10px; text-align: center; border-top: 1px solid #ddd; margin-top: 20px;';
                document.querySelector('footer').appendChild(footerAd);
            }

            // Publicidad popup
            if (teamSettings.adPopup && shouldShowPopup()) {
                setTimeout(() => {
                    showPopupAd();
                }, 2000);
            }
        }

        // Verificar si debe mostrar popup
        function shouldShowPopup() {
            const lastShown = localStorage.getItem('lastPopupAd');
            const now = Date.now();
            
            switch (teamSettings.adFrequency) {
                case 'once':
                    return !lastShown;
                case 'daily':
                    return !lastShown || (now - parseInt(lastShown)) > 24 * 60 * 60 * 1000;
                case 'weekly':
                    return !lastShown || (now - parseInt(lastShown)) > 7 * 24 * 60 * 60 * 1000;
                default:
                    return true;
            }
        }

        // Mostrar publicidad popup
        function showPopupAd() {
            const popup = document.createElement('div');
            popup.className = 'popup-ad';
            popup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                z-index: 1000;
                max-width: 400px;
                width: 90%;
            `;
            
            popup.innerHTML = `
                <div style="text-align: right;">
                    <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; font-size: 20px; cursor: pointer;">√ó</button>
                </div>
                ${teamSettings.adPopup}
            `;
            
            document.body.appendChild(popup);
            localStorage.setItem('lastPopupAd', Date.now().toString());
        }

        // Escuchar mensajes del panel de administraci√≥n
        window.addEventListener('message', function(event) {
            if (event.data.type === 'UPDATE_SETTINGS') {
                Object.assign(teamSettings, event.data.settings);
                applySettings();
            }
        });

        // Escuchar cambios en el localStorage para actualizar el logo
        window.addEventListener('storage', function(event) {
            if (event.key === 'clubLogo') {
                loadClubLogo();
            }
            if (event.key === 'cdsanabriacfSettings') {
                loadLogoMessage();
                applySocialLinks();
            }
        });

        // Cargar enlaces de redes sociales desde configuraci√≥n
        function applySocialLinks() {
            try {
                const settings = JSON.parse(localStorage.getItem('cdsanabriacfSettings') || '{}');
                const facebook = settings.facebookUrl || '';
                const instagram = settings.instagramUrl || '';

                const fbLink = document.getElementById('facebookLink');
                const igLink = document.getElementById('instagramLink');

                if (fbLink) {
                    if (facebook) {
                        fbLink.href = facebook;
                        fbLink.style.opacity = '1';
                        fbLink.dataset.disabled = 'false';
                    } else {
                        fbLink.href = '#';
                        fbLink.style.opacity = '0.8';
                        fbLink.dataset.disabled = 'true';
                        fbLink.title = 'A√±ade el enlace de Facebook desde el Panel de Administraci√≥n';
                    }
                }

                if (igLink) {
                    if (instagram) {
                        igLink.href = instagram;
                        igLink.style.opacity = '1';
                        igLink.dataset.disabled = 'false';
                    } else {
                        igLink.href = '#';
                        igLink.style.opacity = '0.8';
                        igLink.dataset.disabled = 'true';
                        igLink.title = 'A√±ade el enlace de Instagram desde el Panel de Administraci√≥n';
                    }
                }

                attachSocialHandlers();
            } catch (e) {
                console.error('Error aplicando enlaces sociales', e);
            }
        }

        function attachSocialHandlers() {
            const setup = (el, name) => {
                if (!el) return;
                el.onclick = (ev) => {
                    const isDisabled = el.dataset.disabled === 'true' || el.href.endsWith('#');
                    if (isDisabled) {
                        ev.preventDefault();
                        alert(`üîó El enlace de ${name} a√∫n no est√° configurado. Ve al Panel de Administraci√≥n ‚Üí üì¢ Publicidad para a√±adirlo.`);
                    }
                };
            };
            setup(document.getElementById('facebookLink'), 'Facebook');
            setup(document.getElementById('instagramLink'), 'Instagram');
        }

        // Funci√≥n para acceder al panel de administraci√≥n
        function openAdminPanel() {
            // Abrir formulario de login para administrador
            const loginForm = `
                <div class="modal-content">
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                    <h2>üëë Acceso de Administrador</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">‚úÖ Introduce tus credenciales de administrador</p>
                    <form id="adminLoginForm" onsubmit="loginAdmin(event)">
                        <div class="form-group">
                            <label for="adminEmail">Correo Electr√≥nico:</label>
                            <input type="email" id="adminEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="adminPassword">Contrase√±a:</label>
                            <input type="password" id="adminPassword" name="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeLoginModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            `;
            showLoginModal(loginForm);
        }

        // Funci√≥n para login del administrador
        function loginAdmin(event) {
            event.preventDefault();
            
            const email = document.getElementById('adminEmail').value.trim();
            const password = document.getElementById('adminPassword').value.trim();
            
            console.log('üîç Intentando autenticaci√≥n de administrador con:', email);
            
            // Verificar si es el administrador principal
            if (email.toLowerCase() === 'amco@gmx.es') {
                if (password === '533712' || password === 'admin123') {
                    console.log('‚úÖ Autenticaci√≥n exitosa como administrador principal');
                    
                    // Guardar sesi√≥n del administrador principal
                    const admin = {
                            id: 'ADMIN_CDSANABRIACF',
                            name: 'Administrador Principal CDSANABRIACF',
                        email: email,
                        teamId: 'CDSANABRIACF',
                        role: 'super_admin',
                        loginTime: new Date().toISOString()
                    };
                    
                    localStorage.setItem('currentAdmin', JSON.stringify(admin));
                    
                    closeLoginModal();
                    alert('‚úÖ Autenticaci√≥n exitosa.\nRedirigiendo al panel de administraci√≥n...');
                    
                    // Abrir el panel de administraci√≥n
                    window.open('admin-panel.html', '_blank');
                    return;
                } else {
                    alert('‚ùå Verifica tus credenciales.');
                    document.getElementById('adminPassword').value = '';
                    forcePasswordDots();
                    return;
                }
            }

            // Verificar si es un administrador de equipo
            const teamAdmins = JSON.parse(localStorage.getItem('teamAdmins') || '[]');
            const admin = teamAdmins.find(a => a.email === email && a.password === password);
            
            if (admin) {
                if (admin.status !== 'active') {
                    alert('‚ùå Tu cuenta est√° desactivada. Contacta con el administrador principal.');
                    document.getElementById('adminPassword').value = '';
                    forcePasswordDots();
                    return;
                }

                console.log('‚úÖ Autenticaci√≥n exitosa como administrador de equipo');
                
                // Guardar sesi√≥n del administrador de equipo
                const adminSession = {
                    id: admin.id,
                    name: 'Administrador de Equipo',
                    email: admin.email,
                    teamId: admin.team,
                    role: 'team_admin',
                    loginTime: new Date().toISOString()
                };
                
                localStorage.setItem('currentAdmin', JSON.stringify(adminSession));
                
                closeLoginModal();
                alert(`‚úÖ Autenticaci√≥n exitosa.\nBienvenido, administrador del equipo ${admin.team}.\nRedirigiendo al panel de administraci√≥n...`);
                
                // Abrir el panel de administraci√≥n
                window.open('admin-panel.html', '_blank');
                return;
            }

            // (Administrador secundario limitado desactivado y credenciales revertidas)

            // Si no es ni admin principal ni de equipo
            alert('‚ùå Verifica tus credenciales.');
            document.getElementById('adminPassword').value = '';
            forcePasswordDots();
        }

        // Funci√≥n para abrir modal de registro de amigos
        function createAmigoLoginForm() {
            return `
                <div class="modal-content">
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                    <h2>ü§ù Acceso de Amigo del Club</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">‚úÖ Introduce tus datos para acceder como amigo</p>
                    <form id="amigosLoginForm" onsubmit="loginAmigo(event)">
                        <div class="form-group">
                            <label for="amigoEmail">Correo Electr√≥nico:</label>
                            <input type="email" id="amigoEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="amigoPhone">Tel√©fono:</label>
                            <input type="tel" id="amigoPhone" name="phone" required>
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeLoginModal()">Cancelar</button>
                            <button type="button" class="btn-primary" onclick="document.getElementById('amigosModal').style.display = 'block'; closeLoginModal()">Registrarse</button>
                        </div>
                    </form>
                </div>
            `;
        }

        function openCoachesAccess() {
            // Abrir formulario de login para entrenadores
            const loginForm = `
                <div class="modal-content">
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                    <h2>üë®‚Äçüè´ Acceso de Entrenador</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">‚úÖ Introduce tu email o tel√©fono para acceder como entrenador</p>
                    <form id="coachesLoginForm" onsubmit="loginCoach(event)">
                        <div class="form-group">
                            <label for="coachIdentifier">Email o Tel√©fono:</label>
                            <input type="text" id="coachIdentifier" name="identifier" placeholder="Email o n√∫mero de tel√©fono" required>
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeLoginModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            `;
            showLoginModal(loginForm);
        }

        // Funci√≥n para cerrar modal de amigos
        function closeAmigosModal() {
            document.getElementById('amigosModal').style.display = 'none';
            document.getElementById('amigosForm').reset();
        }

        // Funci√≥n para abrir modal de registro de socios
        function createSocioLoginForm() {
            return `
                <div class="modal-content">
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                    <h2>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Acceso de Socio</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 20px;">‚úÖ Introduce tus datos para acceder como socio</p>
                    <form id="sociosLoginForm" onsubmit="loginSocio(event)">
                        <div class="form-group">
                            <label for="socioEmail">Correo Electr√≥nico:</label>
                            <input type="email" id="socioEmail" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="socioPhone">Tel√©fono:</label>
                            <input type="tel" id="socioPhone" name="phone" required>
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeLoginModal()">Cancelar</button>
                            <button type="button" class="btn-primary" onclick="document.getElementById('sociosModal').style.display = 'block'; closeLoginModal()">Registrarse</button>
                        </div>
                    </form>
                </div>
            `;
        }

        // Funci√≥n para cerrar modal de socios
        function closeSociosModal() {
            document.getElementById('sociosModal').style.display = 'none';
            document.getElementById('sociosForm').reset();
        }

        // Funci√≥n para abrir diferentes caracter√≠sticas
        function openFeature(feature) {
            switch(feature) {
                case 'equipos':
                    showTeamsInfo();
                    break;
                case 'calendario':
                    showCalendarInfo();
                    break;
                case 'eventos':
                    showEventsInfo();
                    break;
                case 'competiciones':
                    showCompetitionsInfo();
                    break;
                case 'multimedia':
                    showMultimediaInfo();
                    break;
                case 'contacto':
                    scrollToContact();
                    break;
                default:
                    alert('Funcionalidad en desarrollo');
            }
        }

        // Mostrar informaci√≥n de equipos
        function showTeamsInfo() {
            const teams = JSON.parse(localStorage.getItem('clubPlayers') || '[]');
            const categories = ['prebenajmin', 'benjamin', 'alevin', 'infantil', 'aficionado'];
            const categoryNames = {
                'prebenajmin': 'Prebenjam√≠n',
                'benjamin': 'Benjam√≠n', 
                'alevin': 'Alev√≠n',
                'infantil': 'Infantil',
                'aficionado': 'Aficionado'
            };

            let html = '<h3>üèÜ Equipos del Club CDSANABRIACF</h3>';
            
            categories.forEach(category => {
                const categoryPlayers = teams.filter(p => p.category === category && p.status === 'active');
                html += `
                    <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <h4>${categoryNames[category]} (${categoryPlayers.length} jugadores)</h4>
                        ${categoryPlayers.length > 0 ? 
                            categoryPlayers.map(p => `<p>‚Ä¢ ${p.name} ${p.surname} - Dorsal: ${p.number || 'Sin asignar'}</p>`).join('') :
                            '<p>No hay jugadores registrados en esta categor√≠a</p>'
                        }
                    </div>
                `;
            });

            showModal('Equipos del Club', html);
        }

        // Mostrar informaci√≥n del calendario
        function showCalendarInfo() {
            const events = JSON.parse(localStorage.getItem('clubCalendarEvents') || '[]');
            const upcomingEvents = events.filter(e => new Date(e.date) >= new Date()).slice(0, 5);

            let html = '<h3>üìÖ Pr√≥ximos Eventos del Club</h3>';
            
            if (upcomingEvents.length > 0) {
                upcomingEvents.forEach(event => {
                    const eventDate = new Date(event.date).toLocaleDateString('es-ES');
                    html += `
                        <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                            <h4>${event.title}</h4>
                            <p><strong>Fecha:</strong> ${eventDate}</p>
                            <p><strong>Hora:</strong> ${event.time}</p>
                            <p><strong>Descripci√≥n:</strong> ${event.description}</p>
                        </div>
                    `;
                });
            } else {
                html += '<p>No hay eventos pr√≥ximos programados</p>';
            }

            showModal('Calendario del Club', html);
        }

        // Mostrar informaci√≥n de eventos
        function showEventsInfo() {
            const events = JSON.parse(localStorage.getItem('clubEvents') || '[]');
            const activeEvents = events.filter(e => e.status === 'active');

            let html = '<h3>üéâ Eventos del Club</h3>';
            
            if (activeEvents.length > 0) {
                activeEvents.forEach(event => {
                    const eventDate = new Date(event.date).toLocaleDateString('es-ES');
                    html += `
                        <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                            <h4>${event.title}</h4>
                            <p><strong>Fecha:</strong> ${eventDate}</p>
                            <p><strong>Precio:</strong> ${event.price === '0' ? 'Gratuito' : `${event.price}‚Ç¨`}</p>
                            <p><strong>Inscritos:</strong> ${event.registeredMembers?.length || 0}/${event.maxParticipants}</p>
                            <p><strong>Descripci√≥n:</strong> ${event.description}</p>
                        </div>
                    `;
                });
            } else {
                html += '<p>No hay eventos activos en este momento</p>';
            }

            showModal('Eventos del Club', html);
        }

        // Mostrar informaci√≥n de competiciones
        function showCompetitionsInfo() {
            const competitions = JSON.parse(localStorage.getItem('clubCompetitions') || '[]');
            const activeCompetitions = competitions.filter(c => c.status === 'active');

            let html = '<h3>üèÜ Competiciones del Club</h3>';
            
            if (activeCompetitions.length > 0) {
                activeCompetitions.forEach(comp => {
                    const startDate = new Date(comp.startDate).toLocaleDateString('es-ES');
                    const endDate = new Date(comp.endDate).toLocaleDateString('es-ES');
                    html += `
                        <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                            <h4>${comp.name}</h4>
                            <p><strong>Categor√≠a:</strong> ${comp.category}</p>
                            <p><strong>Tipo:</strong> ${comp.type}</p>
                            <p><strong>Fechas:</strong> ${startDate} - ${endDate}</p>
                            <p><strong>Equipos:</strong> ${comp.teams?.length || 0} participantes</p>
                            <p><strong>Descripci√≥n:</strong> ${comp.description}</p>
                        </div>
                    `;
                });
            } else {
                html += '<p>No hay competiciones activas en este momento</p>';
            }

            showModal('Competiciones del Club', html);
        }

        // Mostrar informaci√≥n multimedia
        function showMultimediaInfo() {
            const photos = JSON.parse(localStorage.getItem('clubPhotos') || '[]');
            const videos = JSON.parse(localStorage.getItem('clubVideos') || '[]');
            const documents = JSON.parse(localStorage.getItem('clubDocuments') || '[]');

            let html = '<h3>üì∏ Galer√≠a Multimedia del Club</h3>';
            html += `<p><strong>Fotos:</strong> ${photos.length} archivos</p>`;
            html += `<p><strong>Videos:</strong> ${videos.length} archivos</p>`;
            html += `<p><strong>Documentos:</strong> ${documents.length} archivos</p>`;
            html += '<p>Para ver la galer√≠a completa, haz clic en "Ver Galer√≠a" en la secci√≥n multimedia de abajo.</p>';

            showModal('Galer√≠a Multimedia', html);
        }

        // Scroll a la secci√≥n de contacto
        function scrollToContact() {
            const contactSection = document.querySelector('.contact-section');
            if (contactSection) {
                contactSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Funci√≥n para mostrar modal
        function showModal(title, content) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                padding: 30px;
                border-radius: 15px;
                max-width: 600px;
                max-height: 80vh;
                overflow-y: auto;
                position: relative;
                width: 90%;
            `;
            
            modalContent.innerHTML = `
                <div style="text-align: right; margin-bottom: 20px;">
                    <button onclick="this.closest('.modal').remove()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #666;">√ó</button>
                </div>
                <h2 style="color: var(--primary-color); margin-bottom: 20px;">${title}</h2>
                <div style="color: var(--text-color); line-height: 1.6;">
                    ${content}
                </div>
            `;
            
            modal.className = 'modal';
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
            
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
        }

        // Animaci√≥n simple al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            loadMultimediaGallery();
            loadClubLogo(); // Asegurar que el logo se cargue
            loadCarouselAds(); // Cargar carrusel de publicidad
            
            const cards = document.querySelectorAll('.feature-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.6s ease';
                    
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 100);
            });
        });

        // Cargar galer√≠a multimedia
        function loadMultimediaGallery() {
            const gallery = document.getElementById('multimediaGallery');
            const photos = JSON.parse(localStorage.getItem('clubPhotos') || '[]');
            const videos = JSON.parse(localStorage.getItem('clubVideos') || '[]');
            const documents = JSON.parse(localStorage.getItem('clubDocuments') || '[]');
            
            const allFiles = [...photos, ...videos, ...documents].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            if (allFiles.length === 0) {
                gallery.innerHTML = '<p>No hay archivos multimedia disponibles</p>';
                return;
            }

            let html = '';
            allFiles.forEach(file => {
                const isImage = file.type.startsWith('image/');
                const isVideo = file.type.startsWith('video/');
                const isDocument = file.type.includes('pdf') || file.type.includes('document') || file.type.includes('spreadsheet') || file.type.includes('presentation');
                
                let typeText = 'Documento';
                if (isImage) typeText = 'Imagen';
                else if (isVideo) typeText = 'Video';

                html += `
                    <div class="gallery-item" onclick="viewFile('${file.id}', '${isImage ? 'clubPhotos' : isVideo ? 'clubVideos' : 'clubDocuments'}')">
                        ${isImage ? `<img src="${file.data}" alt="${file.name}">` : 
                          isVideo ? `<video src="${file.data}" muted></video>` : 
                          `<div style="width: 100%; height: 200px; display: flex; align-items: center; justify-content: center; background: #f0f0f0; font-size: 4rem;">üìÑ</div>`}
                        <div class="gallery-item-info">
                            <div class="gallery-item-title">${file.name}</div>
                            <div class="gallery-item-type">${typeText} - ${file.size}</div>
                        </div>
                    </div>
                `;
            });
            
            gallery.innerHTML = html;
        }

        // Ver archivo en modal
        function viewFile(fileId, storageKey) {
            const files = JSON.parse(localStorage.getItem(storageKey) || '[]');
            const file = files.find(f => f.id === fileId);
            
            if (!file) return;

            const isImage = file.type.startsWith('image/');
            const isVideo = file.type.startsWith('video/');
            
            if (isImage || isVideo) {
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.8);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                `;
                
                const content = document.createElement('div');
                content.style.cssText = `
                    max-width: 90%;
                    max-height: 90%;
                    position: relative;
                `;
                
                if (isImage) {
                    const img = document.createElement('img');
                    img.src = file.data;
                    img.style.cssText = 'max-width: 100%; max-height: 100%; object-fit: contain;';
                    content.appendChild(img);
                } else if (isVideo) {
                    const video = document.createElement('video');
                    video.src = file.data;
                    video.controls = true;
                    video.style.cssText = 'max-width: 100%; max-height: 100%;';
                    content.appendChild(video);
                }
                
                const closeBtn = document.createElement('button');
                closeBtn.textContent = '√ó';
                closeBtn.style.cssText = `
                    position: absolute;
                    top: -40px;
                    right: 0;
                    background: none;
                    border: none;
                    color: white;
                    font-size: 30px;
                    cursor: pointer;
                `;
                closeBtn.onclick = () => modal.remove();
                
                content.appendChild(closeBtn);
                modal.appendChild(content);
                document.body.appendChild(modal);
                
                modal.onclick = (e) => {
                    if (e.target === modal) modal.remove();
                };
            } else {
                // Para documentos, abrir en nueva pesta√±a
                const link = document.createElement('a');
                link.href = file.data;
                link.target = '_blank';
                link.click();
            }
        }
        
        // Funciones para mostrar el d√≠a actual
        function updateCurrentDayDisplay() {
            const now = new Date();
            const days = ['Domingo', 'Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado'];
            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                           'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            
            const dayName = days[now.getDay()];
            const dayNumber = now.getDate();
            const monthName = months[now.getMonth()];
            const year = now.getFullYear();
            
            const currentDayDisplay = document.getElementById('currentDayDisplay');
            if (currentDayDisplay) {
                currentDayDisplay.textContent = `üìÖ ${dayName}, ${dayNumber} de ${monthName} de ${year}`;
            }
            
            const currentTimeDisplay = document.getElementById('currentTimeDisplay');
            if (currentTimeDisplay) {
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const seconds = now.getSeconds().toString().padStart(2, '0');
                currentTimeDisplay.textContent = `‚è∞ ${hours}:${minutes}:${seconds}`;
            }
        }
        
        // Iniciar actualizaci√≥n del d√≠a actual
        function startCurrentDayTimer() {
            // Actualizar inmediatamente
            updateCurrentDayDisplay();
            
            // Actualizar cada segundo
            setInterval(updateCurrentDayDisplay, 1000);
        }
        
        // Iniciar cuando se carga la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            startCurrentDayTimer();
            loadMultimediaGallery();
            clearOldContactInfo(); // Limpiar email anterior del localStorage
            loadContactInfoFromSettings();
            loadClubLogo(); // Cargar el logo del club
            limpiarSociosExpirados(); // Limpiar socios expirados
            ensureDefaultOnlineStoreLink();
        });

        // ===== FUNCIONES PARA POL√çTICA DE PROTECCI√ìN DE DATOS =====
        
        function togglePrivacyPolicy() {
            const content = document.getElementById('privacyContent');
            const toggle = document.getElementById('privacyToggle');
            
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
                toggle.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                toggle.textContent = '‚ñº';
            }
        }

        // ===== FUNCIONES PARA DATOS DE CONTACTO =====
        
        // Limpiar localStorage con email anterior
        function clearOldContactInfo() {
            try {
                const contactInfo = JSON.parse(localStorage.getItem('clubContactInfo') || 'null');
                if (contactInfo && contactInfo.email && contactInfo.email !== 'cdsanabriacf@gmail.com') {
                    contactInfo.email = 'cdsanabriacf@gmail.com';
                    localStorage.setItem('clubContactInfo', JSON.stringify(contactInfo));
                    console.log('‚úÖ Email actualizado en localStorage');
                }
            } catch (error) {
                console.error('‚ùå Error limpiando datos de contacto:', error);
            }
        }
        
        function loadContactInfoFromSettings() {
            try {
                const contactInfo = JSON.parse(localStorage.getItem('clubContactInfo') || 'null');
                if (contactInfo) {
                    // Actualizar datos de contacto en la p√°gina principal
                    const emailElement = document.getElementById('contactEmail');
                    const phoneElement = document.getElementById('contactPhone');
                    const addressElement = document.getElementById('contactAddress');
                    const websiteElement = document.getElementById('contactWebsite');
                    const whatsappElement = document.getElementById('contactWhatsApp');
                    const hoursElement = document.getElementById('contactHours');
                    
                    if (emailElement) emailElement.textContent = 'cdsanabriacf@gmail.com';
                    if (phoneElement) phoneElement.textContent = contactInfo.phone || '+34 600 000 000';
                    if (addressElement) addressElement.textContent = contactInfo.address || 'Crta. del Pinar, s/n, 49300 Puebla de Sanabria, Zamora';
                    if (websiteElement) websiteElement.textContent = contactInfo.website || 'www.cdsanabriacf.com';
                    if (whatsappElement) whatsappElement.textContent = contactInfo.whatsapp || '+34 600 000 000';
                    if (hoursElement) hoursElement.textContent = contactInfo.hours || 'Lunes a Viernes: 9:00 - 18:00';
                    
                    console.log('üìû Datos de contacto cargados desde configuraci√≥n');
                }
            } catch (error) {
                console.error('‚ùå Error cargando datos de contacto:', error);
            }
        }

        // ===== FUNCIONES PARA REGISTRO DE SOCIOS =====
        function calcularEdad(fechaStr) {
            const hoy = new Date();
            const cumple = new Date(fechaStr);
            let edad = hoy.getFullYear() - cumple.getFullYear();
            const m = hoy.getMonth() - cumple.getMonth();
            if (m < 0 || (m === 0 && hoy.getDate() < cumple.getDate())) {
                edad--;
            }
            return edad;
        }

        function actualizarCuotaSocioPorEdad() {
            const fecha = document.getElementById('socioFechaNacimiento').value;
            const cuotaInput = document.getElementById('socioCuota');
            const edadInfo = document.getElementById('socioEdadInfo');
            if (!fecha) return;
            const edad = calcularEdad(fecha);
            if (edadInfo) edadInfo.textContent = `Edad: ${edad} a√±os`;
            const esMenor = edad <= 17;
            const monto = esMenor ? 10 : 20;
            cuotaInput.value = monto;
            // Sincronizar radios
            const radios = document.getElementsByName('socioCuotaRadio');
            radios.forEach(r => { r.checked = (parseInt(r.value) === monto); });
        }

        function seleccionarCuotaManual(monto) {
            const cuotaInput = document.getElementById('socioCuota');
            cuotaInput.value = monto;
        }
        
        function registerSocio(event) {
            event.preventDefault();
            
            const nombre = document.getElementById('socioNombre').value.trim();
            const apellidos = document.getElementById('socioApellidos').value.trim();
            const fechaNacimiento = document.getElementById('socioFechaNacimiento').value;
            const dni = document.getElementById('socioDNI').value.trim();
            const direccion = document.getElementById('socioDireccion').value.trim();
            const telefono = document.getElementById('socioTelefono').value.trim();
            const email = document.getElementById('socioEmail').value.trim();
            const cuota = parseFloat(document.getElementById('socioCuota').value) || 20;
            const consentimiento = document.getElementById('socioConsentimiento').checked;
            
            if (!nombre || !apellidos || !telefono || !fechaNacimiento) {
                alert('Por favor, completa los campos obligatorios: Nombre, Apellidos, Tel√©fono y Fecha de Nacimiento');
                return;
            }
            
            if (!consentimiento) {
                alert('Debes aceptar las condiciones para registrarte como socio');
                return;
            }
            
            // Crear nuevo socio
            const nuevoSocio = {
                id: Date.now().toString(),
                nombre: nombre,
                apellidos: apellidos,
                dni: dni,
                direccion: direccion,
                telefono: telefono,
                email: email,
                cuota: cuota,
                fechaNacimiento: fechaNacimiento,
                fechaRegistro: new Date().toISOString(),
                fechaVencimiento: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 d√≠as
                estado: 'pendiente', // pendiente, confirmado, expirado
                pagado: false,
                numeroSocio: generarNumeroSocio()
            };
            
            // Guardar en localStorage
            const socios = JSON.parse(localStorage.getItem('clubMembers') || '[]');
            socios.push(nuevoSocio);
            localStorage.setItem('clubMembers', JSON.stringify(socios));
            
            // Cerrar modal y mostrar confirmaci√≥n
            closeSociosModal();
            alert(`‚úÖ Socio registrado exitosamente\n\nN√∫mero de Socio: ${nuevoSocio.numeroSocio}\nCuota: ${cuota}‚Ç¨\n\n‚ö†Ô∏è IMPORTANTE: Tienes 7 d√≠as para completar el pago. Un administrador validar√° tu registro.`);
            
            console.log('üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Nuevo socio registrado:', nuevoSocio);
        }
        
        function generarNumeroSocio() {
            const socios = JSON.parse(localStorage.getItem('clubMembers') || '[]');
            const ultimoNumero = socios.length > 0 ? 
                Math.max(...socios.map(s => parseInt(s.numeroSocio.replace('SOC-', '')))) : 0;
            return `SOC-${(ultimoNumero + 1).toString().padStart(4, '0')}`;
        }

        // ===== FUNCIONES PARA REGISTRO DE AMIGOS =====
        
        function registerAmigo(event) {
            event.preventDefault();
            
            const nombre = document.getElementById('amigoNombre').value.trim();
            const apellidos = document.getElementById('amigoApellidos').value.trim();
            const dni = document.getElementById('amigoDNI').value.trim();
            const telefono = document.getElementById('amigoTelefono').value.trim();
            const email = document.getElementById('amigoEmail').value.trim();
            const consentimiento = document.getElementById('amigoConsentimiento').checked;
            
            if (!nombre || !apellidos || !telefono || !email) {
                alert('Por favor, completa todos los campos obligatorios');
                return;
            }
            
            if (!consentimiento) {
                alert('Debes aceptar las condiciones para registrarte como amigo del club');
                return;
            }
            
            // Verificar si ya existe un amigo con ese email o tel√©fono
            const amigos = JSON.parse(localStorage.getItem('clubFriends') || '[]');
            const existeAmigo = amigos.find(a => 
                a.email === email || a.telefono === telefono
            );
            
            if (existeAmigo) {
                alert('Ya existe un amigo registrado con ese email o tel√©fono');
                return;
            }
            
            // Crear nuevo amigo
            const nuevoAmigo = {
                id: Date.now().toString(),
                nombre: nombre,
                apellidos: apellidos,
                dni: dni,
                telefono: telefono,
                email: email,
                fechaRegistro: new Date().toISOString(),
                estado: 'activo',
                acceso: {
                    email: email,
                    telefono: telefono
                }
            };
            
            // Guardar en localStorage
            amigos.push(nuevoAmigo);
            localStorage.setItem('clubFriends', JSON.stringify(amigos));
            
            // Cerrar modal y mostrar confirmaci√≥n
            closeAmigosModal();
            alert(`‚úÖ Amigo del club registrado exitosamente\n\nüìß Email: ${email}\nüì± Tel√©fono: ${telefono}\n\nPara acceder, usa tu email o tel√©fono sin contrase√±a.`);
            
            console.log('ü§ù Nuevo amigo registrado:', nuevoAmigo);
        }

        // ===== FUNCIONES PARA LOGIN DIN√ÅMICO =====
        function showLoginModal(content) {
            // Crear modal din√°mico para login
            const modal = document.createElement('div');
            modal.id = 'loginModal';
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = content;
            document.body.appendChild(modal);
        }

        function closeLoginModal() {
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.remove();
            }
        }

        // ===== FUNCIONES DE LOGIN PARA SOCIOS =====
        function loginSocio(event) {
            event.preventDefault();
            
            const email = document.getElementById('socioEmail').value.trim();
            const phone = document.getElementById('socioPhone').value.trim();
            
            if (!email || !phone) {
                alert('‚ùå Por favor, completa todos los campos');
                return;
            }
            
            // Buscar socio en localStorage
            const socios = JSON.parse(localStorage.getItem('clubMembers') || '[]');
            const socio = socios.find(s => 
                (s.email === email && s.telefono === phone) ||
                (s.email === phone && s.telefono === email)
            );
            
            if (!socio) {
                alert('‚ùå No se encontr√≥ ning√∫n socio con esos datos. Verifica tu correo y tel√©fono.');
                return;

            }
            
            if (socio.estado === 'expirado') {
                alert('‚ùå Tu cuenta ha expirado. Contacta con el administrador para renovar tu cuota.');
                return;
            }
            
            if (socio.estado === 'pendiente' && !socio.pagado) {
                alert('‚ö†Ô∏è Tu cuenta est√° pendiente de validaci√≥n. Tienes 7 d√≠as para completar el pago.');
                return;
            }
            
            // Login exitoso
            localStorage.setItem('currentSocio', JSON.stringify(socio));
            closeLoginModal();
            alert('‚úÖ ¬°Bienvenido de vuelta! Acceso concedido como socio.');
            
            // Redirigir a la p√°gina de socios
            window.open('members-access.html', '_blank');
        }

        // ===== FUNCIONES DE LOGIN PARA AMIGOS =====
        function loginAmigo(event) {
            event.preventDefault();
            
            const email = document.getElementById('amigoEmail').value.trim();
            const phone = document.getElementById('amigoPhone').value.trim();
            
            if (!email || !phone) {
                alert('‚ùå Por favor, completa todos los campos');
                return;
            }
            
            // Buscar amigo en localStorage
            const amigos = JSON.parse(localStorage.getItem('clubFriends') || '[]');
            const amigo = amigos.find(a => 
                (a.email === email && a.telefono === phone) ||
                (a.email === phone && a.telefono === email)
            );
            
            if (!amigo) {
                alert('‚ùå No se encontr√≥ ning√∫n amigo con esos datos. Verifica tu correo y tel√©fono.');
                return;
            }
            
            if (amigo.estado !== 'activo') {
                alert('‚ùå Tu cuenta no est√° activa. Contacta con el administrador.');
                return;
            }
            
            // Login exitoso
            localStorage.setItem('currentAmigo', JSON.stringify(amigo));
            closeLoginModal();
            alert('‚úÖ ¬°Bienvenido de vuelta! Acceso concedido como amigo del club.');
            
            // Redirigir a la p√°gina de amigos
            window.open('friends-access.html', '_blank');
        }

        // ===== FUNCIONES DE LOGIN PARA ENTRENADORES =====
        function loginCoach(event) {
            event.preventDefault();
            
            const identifier = document.getElementById('coachIdentifier').value.trim();
            
            if (!identifier) {
                alert('‚ùå Por favor, introduce tu email o tel√©fono');
                return;
            }
            
            // Buscar entrenador en localStorage
            const coaches = JSON.parse(localStorage.getItem('clubCoaches') || '[]');
            const coach = coaches.find(c => 
                c.email === identifier || c.phone === identifier
            );
            
            if (!coach) {
                alert('‚ùå No se encontr√≥ ning√∫n entrenador con esos datos. Verifica tu email o tel√©fono.');
                return;
            }
            
            if (coach.status !== 'active') {
                alert('‚ùå Tu cuenta no est√° activa. Contacta con el administrador para validar tu acceso.');
                return;
            }
            
            // Actualizar informaci√≥n de acceso
            coach.lastAccess = new Date().toISOString();
            coach.accessCount = (coach.accessCount || 0) + 1;
            
            // Guardar cambios
            const updatedCoaches = coaches.map(c => c.id === coach.id ? coach : c);
            localStorage.setItem('clubCoaches', JSON.stringify(updatedCoaches));
            
            // Login exitoso
            localStorage.setItem('currentCoach', JSON.stringify(coach));
            closeLoginModal();
            alert(`‚úÖ ¬°Bienvenido de vuelta! Acceso concedido como entrenador.\n\nüë®‚Äçüè´ ${coach.name} ${coach.surname}\n‚öΩ Equipo: ${coach.team}`);
            
            // Redirigir a la p√°gina de entrenadores
            window.open('coach-panel.html', '_blank');
        }

        // ===== FUNCIONES DEL CARRUSEL DE PUBLICIDAD =====
        
        let currentSlide = 0;
        let carouselSlides = [];
        let carouselInterval;

        // Cargar anuncios del carrusel
        function loadCarouselAds() {
            try {
                const advertisements = JSON.parse(localStorage.getItem('clubAdvertisements') || '[]');
                const carouselAds = advertisements.filter(ad => 
                    (ad.status === 'active') && 
                    (!ad.startDate || new Date(ad.startDate) <= new Date()) &&
                    (!ad.endDate || new Date(ad.endDate) >= new Date())
                );
                
                if (carouselAds.length === 0) {
                    document.getElementById('adCarousel').style.display = 'none';
                    return;
                }
                
                // Ordenar por posici√≥n
                carouselAds.sort((a, b) => a.position - b.position);
                carouselSlides = carouselAds;
                
                // Mostrar carrusel
                document.getElementById('adCarousel').style.display = 'block';
                
                // Generar slides
                generateCarouselSlides();
                
                // Iniciar autoplay
                startCarouselAutoplay();
                
                console.log('‚úÖ Carrusel de publicidad cargado:', carouselAds.length, 'anuncios');
                
            } catch (error) {
                console.error('‚ùå Error cargando carrusel:', error);
                document.getElementById('adCarousel').style.display = 'none';
            }
        }

        // Generar slides del carrusel
        function generateCarouselSlides() {
            const slidesContainer = document.getElementById('carouselSlides');
            const dotsContainer = document.getElementById('carouselDots');
            
            let slidesHTML = '';
            let dotsHTML = '';
            
            // 3 por vista: agrupamos en p√°ginas de 3
            const itemsPerView = window.innerWidth <= 768 ? 1 : 3;
            const pages = Math.ceil(carouselSlides.length / itemsPerView);

            for (let p = 0; p < pages; p++) {
                const start = p * itemsPerView;
                const group = carouselSlides.slice(start, start + itemsPerView);
                group.forEach((ad) => {
                    slidesHTML += `
                        <div class="carousel-slide" onclick="handleAdClick('${ad.id}')">
                            ${ad.image ? `<img src="${ad.image}" alt="${ad.title}">` : ''}
                            <div class="carousel-slide-content">
                                <div class="carousel-slide-title">${ad.title || ''}</div>
                                <div class="carousel-slide-company">${ad.company || ''}</div>
                            </div>
                        </div>
                    `;
                });
                dotsHTML += `<div class="carousel-dot ${p === 0 ? 'active' : ''}" onclick="goToSlide(${p})"></div>`;
            }
            
            slidesContainer.innerHTML = slidesHTML;
            dotsContainer.innerHTML = dotsHTML;
            
            // Mostrar primer slide
            showSlide(0);
        }

        // Mostrar slide espec√≠fico
        function showSlide(index) {
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            
            if (slides.length === 0) return;
            
            const itemsPerView = window.innerWidth <= 768 ? 1 : 3;
            const pages = Math.ceil(slides.length / itemsPerView);
            if (index >= pages) index = 0;
            if (index < 0) index = pages - 1;

            dots.forEach(dot => dot.classList.remove('active'));
            if (dots[index]) dots[index].classList.add('active');

            const offset = index * 100; // 100% por p√°gina
            const slidesContainer = document.getElementById('carouselSlides');
            slidesContainer.style.transform = `translateX(-${offset}%)`;
            
            currentSlide = index;
        }

        // Cambiar slide
        function changeSlide(direction) {
            const itemsPerView = window.innerWidth <= 768 ? 1 : 3;
            const totalItems = document.querySelectorAll('.carousel-slide').length;
            const pages = Math.ceil(totalItems / itemsPerView);
            if (pages === 0) return;
            let newIndex = currentSlide + direction;
            if (newIndex >= pages) newIndex = 0;
            if (newIndex < 0) newIndex = pages - 1;
            showSlide(newIndex);
        }

        // Ir a slide espec√≠fico
        function goToSlide(index) {
            if (index >= 0 && index < carouselSlides.length) {
                showSlide(index);
            }
        }

        // Iniciar autoplay del carrusel
        function startCarouselAutoplay() {
            if (carouselSlides.length <= 1) return;
            
            carouselInterval = setInterval(() => {
                changeSlide(1);
            }, 5000); // Cambiar cada 5 segundos
        }

        // Detener autoplay
        function stopCarouselAutoplay() {
            if (carouselInterval) {
                clearInterval(carouselInterval);
            }
        }

        // Manejar click en anuncio
        function handleAdClick(adId) {
            try {
                const advertisements = JSON.parse(localStorage.getItem('clubAdvertisements') || '[]');
                const ad = advertisements.find(a => a.id === adId);
                
                if (ad && ad.url) {
                    // Incrementar contador de clicks
                    ad.clicks = (ad.clicks || 0) + 1;
                    localStorage.setItem('clubAdvertisements', JSON.stringify(advertisements));
                    
                    // Abrir enlace
                    window.open(ad.url, '_blank');
                    
                    console.log('‚úÖ Click en anuncio registrado:', ad.title);
                }
            } catch (error) {
                console.error('‚ùå Error manejando click en anuncio:', error);
            }
        }

        // Registrar vista de anuncio
        function registerAdView(adId) {
            try {
                const advertisements = JSON.parse(localStorage.getItem('clubAdvertisements') || '[]');
                const adIndex = advertisements.findIndex(a => a.id === adId);
                
                if (adIndex !== -1) {
                    advertisements[adIndex].views = (advertisements[adIndex].views || 0) + 1;
                    localStorage.setItem('clubAdvertisements', JSON.stringify(advertisements));
                }
            } catch (error) {
                console.error('‚ùå Error registrando vista:', error);
            }
        }

        // ===== FUNCI√ìN PARA LIMPIAR SOCIOS EXPIRADOS =====
        
        function limpiarSociosExpirados() {
            try {
                const socios = JSON.parse(localStorage.getItem('clubMembers') || '[]');
                const ahora = new Date();
                let sociosEliminados = 0;
                
                const sociosActualizados = socios.filter(socio => {
                    const fechaVencimiento = new Date(socio.fechaVencimiento);
                    const diasRestantes = Math.ceil((fechaVencimiento - ahora) / (1000 * 60 * 60 * 24));
                    
                    // Si han pasado m√°s de 7 d√≠as y no est√° pagado, eliminar
                    if (diasRestantes < 0 && !socio.pagado && socio.estado === 'pendiente') {
                        sociosEliminados++;
                        console.log(`üóëÔ∏è Socio expirado eliminado: ${socio.nombre} ${socio.apellidos} (${socio.numeroSocio})`);
                        return false;
                    }
                    
                    // Si han pasado 7 d√≠as y no est√° pagado, marcar como expirado
                    if (diasRestantes <= 0 && !socio.pagado && socio.estado === 'pendiente') {
                        socio.estado = 'expirado';
                        console.log(`‚è∞ Socio marcado como expirado: ${socio.nombre} ${socio.apellidos} (${socio.numeroSocio})`);
                    }
                    
                    return true;
                });
                
                if (sociosEliminados > 0) {
                    localStorage.setItem('clubMembers', JSON.stringify(sociosActualizados));
                    console.log(`üßπ Limpieza autom√°tica: ${sociosEliminados} socios expirados eliminados`);
                }
                
                return sociosEliminados;
            } catch (error) {
                console.error('‚ùå Error limpiando socios expirados:', error);
                return 0;
            }
        }

        // ===== TIENDA: Abrir enlace online asignado por el administrador =====
        function openOnlineStore() {
            try {
                const links = JSON.parse(localStorage.getItem('cdsanabriacfOnlineLinks') || '[]');
                if (Array.isArray(links) && links.length > 0 && links[0].url) {
                    const url = links[0].url;
                    window.open(url, '_blank');
                } else {
                    const defaultUrl = 'https://sanabriacf.akinda.com/shop';
                    // Abrir la tienda oficial por defecto
                    window.open(defaultUrl, '_blank');
                    // Opcional: sembrar el enlace por defecto para que quede fijo pero editable
                    const seeded = [{ name: 'Tienda Oficial', url: defaultUrl }];
                    localStorage.setItem('cdsanabriacfOnlineLinks', JSON.stringify(seeded));
                }
            } catch (e) {
                console.error('Error abriendo tienda online', e);
                alert('‚ùå No se pudo abrir la tienda online.');
            }
        }

        // Garantiza que exista un enlace por defecto a la tienda oficial si no hay ninguno guardado
        function ensureDefaultOnlineStoreLink() {
            try {
                const stored = localStorage.getItem('cdsanabriacfOnlineLinks');
                if (!stored) {
                    const defaultUrl = 'https://sanabriacf.akinda.com/shop';
                    const seeded = [{ name: 'Tienda Oficial', url: defaultUrl }];
                    localStorage.setItem('cdsanabriacfOnlineLinks', JSON.stringify(seeded));
                }
            } catch (e) {
                console.warn('No se pudo asegurar el enlace por defecto de tienda', e);
            }
        }

    </script>

    <!-- Login de Administrador con modal bonito y compatibilidad con dos cuentas -->
    <script>
        function showAdminLoginModal() {
            // Si ya existe, no duplicar
            const existing = document.getElementById('loginModal');
            if (existing) existing.remove();

            const modal = document.createElement('div');
            modal.id = 'loginModal';
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = `
                <div class="modal-content">
                    <span class="close" onclick="closeAdminLoginModal()">&times;</span>
                    <h2>üëë Acceso de Administrador</h2>
                    <p style="color: #059669; font-weight: bold; margin-bottom: 12px;">Introduce tus credenciales</p>
                    <form onsubmit="return handleAdminLoginSubmit(event)" autocomplete="off">
                        <div class="form-group">
                            <label for="adminEmailModal">Correo Electr√≥nico</label>
                            <input type="email" id="adminEmailModal" required autocomplete="off" autocapitalize="none" autocorrect="off" name="admin_email_field">
                        </div>
                        <div class="form-group">
                            <label for="adminPasswordModal">Contrase√±a</label>
                            <input type="password" id="adminPasswordModal" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password" name="admin_password_field">
                        </div>
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary">Acceder</button>
                            <button type="button" class="btn-secondary" onclick="closeAdminLoginModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(modal);

            // Limpiar cualquier valor previo y desactivar autofill del navegador
            try {
                const emailInput = modal.querySelector('#adminEmailModal');
                const passInput = modal.querySelector('#adminPasswordModal');
                if (emailInput) {
                    emailInput.value = '';
                    emailInput.setAttribute('autocomplete', 'off');
                    emailInput.setAttribute('autocapitalize', 'none');
                    emailInput.setAttribute('autocorrect', 'off');
                }
                if (passInput) {
                    passInput.value = '';
                    passInput.setAttribute('autocomplete', 'new-password');
                }
            } catch (_) {}
        }

        function closeAdminLoginModal() {
            const modal = document.getElementById('loginModal');
            if (modal) modal.remove();
        }

        function handleAdminLoginSubmit(ev) {
            ev.preventDefault();
            const email = (document.getElementById('adminEmailModal').value || '').trim().toLowerCase();
            const password = (document.getElementById('adminPasswordModal').value || '').trim();

            // Admin principal
            if (email === 'amco@gmx.es' && password === '533712') {
                closeAdminLoginModal();
                window.open('admin-panel.html', '_blank');
                return false;
            }
            // Segundo admin (acepta ambas variantes de correo)
            if ((email === 'cdsanabriacf@gmail.com' || email === 'cdsanabria@gmail.com') && password === 'admin123') {
                closeAdminLoginModal();
                window.open('admin-panel.html', '_blank');
                return false;
            }
            // Error gen√©rico
            document.getElementById('adminPasswordModal').value = '';
            return false;
        }

        // Sobrescribir el disparador de acceso admin para usar el modal
        (function ensureAdminButtonUsesModal(){
            try {
                // Si existe un bot√≥n flotante creado por script, aseguremos su onclick
                const buttons = Array.from(document.querySelectorAll('button, a'));
                buttons.forEach(b => {
                    const oc = (b.getAttribute('onclick') || '').toString();
                    if (oc.includes('openAdminPanel')) {
                        b.setAttribute('onclick','showAdminLoginModal()');
                    }
                });
            } catch (_) {}
            // Exponer funci√≥n p√∫blica para otros llamadores
            window.openAdminPanel = showAdminLoginModal;
        })();
    </script>

    <!-- Sobrescritura segura del acceso de administradores -->
    <script>
        // Esta funci√≥n sobrescribe la anterior para asegurar acceso a los dos administradores solicitados
        function openAdminPanel() {
            const email = prompt('üìß Ingresa tu email de administrador:');
            if (!email) return;

            const password = prompt('üîê Ingresa tu contrase√±a:');
            if (!password) return;

            const e = email.trim().toLowerCase();
            const p = password.trim();

            // Admin principal
            if (e === 'amco@gmx.es' && p === '533712') {
                window.open('admin-panel.html', '_blank');
                return;
            }

            // Segundo admin
            if (e === 'cdsanabriacf@gmail.com' && p === 'admin123') {
                window.open('admin-panel.html', '_blank');
                return;
            }

            alert('‚ùå Credenciales incorrectas. Acceso denegado.');
        }
    </script>
</body>
</html> 
</html> 